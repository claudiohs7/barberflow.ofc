(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8428],{12583:function(e,a,s){Promise.resolve().then(s.bind(s,14513))},14513:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return R}});var t=s(57437),r=s(2265),n=s(79820),l=s(12381),d=s(40279),i=s(75060),o=s(74291),c=s(30767),m=s(15291),u=s(69174),p=s(54233),x=s(23818),h=s(68161),f=s(98012),j=s(46747),g=s(84037),v=s(13147),N=s(15847),y=s(43728),b=s(25361),w=s(12749),C=s(46291),_=s(53430),I=s(56942),D=s(58642),E=s(61029),S=s(86291),z=s(59121),k=s(23340),P=s(71245),F=s(27648),$=s(93448),A=s(94076);let B={BÃ¡sico:49.9,Premium:119.9};function R(){var e,a,s,R,V,Z,O,L,T,Q,M,J,W,Y;let{toast:G}=(0,k.pm)(),{isLoading:U}=(0,P.a)(),[H,q]=(0,r.useState)([]),[K,X]=(0,r.useState)(!0),[ee,ea]=(0,r.useState)([]),[es,et]=(0,r.useState)(!0),er=(0,r.useCallback)(async()=>{X(!0),et(!0);try{var e,a;let[s,t]=await Promise.all([(0,A.rd)("/api/barbershops"),(0,A.rd)("/api/tickets")]);q(null!==(e=s.data)&&void 0!==e?e:[]),ea(null!==(a=t.data)&&void 0!==a?a:[])}catch(e){console.error("Erro ao carregar barbearias:",e),G({variant:"destructive",title:"Erro ao carregar dados",description:e.message||"N\xe3o foi poss\xedvel carregar as barbearias."})}finally{X(!1),et(!1)}},[G]);(0,r.useEffect)(()=>{er()},[er]);let en=(0,r.useMemo)(()=>H?H.map(e=>{let a={street:"",number:"",complement:"",neighborhood:"",city:"",state:"",cep:""},s="";"object"==typeof e.address&&null!==e.address&&(a={...a,...e.address},s="".concat(a.street||"",", ").concat(a.number||"").concat(a.complement?", ".concat(a.complement):""," - ").concat(a.neighborhood||"",", ").concat(a.city||""," - ").concat(a.state||"",", ").concat(a.cep||""));let t=e.expiryDate?new Date(e.expiryDate):null,r=e.status||"Inativa";return t&&!(0,_.R)(t,(0,I.b)(new Date))?r="Ativa":t&&(0,_.R)(t,(0,I.b)(new Date))&&(r="Inativa"),{id:e.id,name:e.name||"Nome n\xe3o definido",legalName:e.legalName,cpfCnpj:e.cpfCnpj,ownerId:e.ownerId,email:e.email||"E-mail n\xe3o informado",phone:e.phone||"(00) 00000-0000",plan:e.plan||"B\xe1sico",status:r,expiryDate:t?(0,D.WU)(t,"dd/MM/yyyy"):"N/A",registeredDate:e.createdAt?(0,D.WU)(new Date(e.createdAt),"dd/MM/yyyy"):"N/A",operatingHours:e.operatingHours||[],address:a,fullAddressString:s}}):[],[H]),[el,ed]=(0,r.useState)([]),[ei,eo]=(0,r.useState)(!1),[ec,em]=(0,r.useState)(!1),[eu,ep]=(0,r.useState)(!1),[ex,eh]=(0,r.useState)(null),[ef,ej]=(0,r.useState)(""),[eg,ev]=(0,r.useState)(!1),[eN,ey]=(0,r.useState)(null),[eb,ew]=(0,r.useState)({}),[eC,e_]=(0,r.useState)(!1),[eI,eD]=(0,r.useState)(""),[eE,eS]=(0,r.useState)("all"),[ez,ek]=(0,r.useState)("all");(0,r.useEffect)(()=>{let e=en;if(eI){let a=eI.toLowerCase();e=e.filter(e=>e.name.toLowerCase().includes(a)||e.ownerId&&e.ownerId.toLowerCase().includes(a)||e.email.toLowerCase().includes(a))}"all"!==eE&&(e=e.filter(e=>e.status===eE)),"all"!==ez&&(e=e.filter(e=>e.plan===ez)),ed(e)},[eI,eE,ez,en]);let eP=null===(e=eb.address)||void 0===e?void 0:e.cep;(0,r.useEffect)(()=>{(async()=>{if(!ei&&!ec||!eP)return;let e=eP.replace(/\D/g,"");if(8===e.length)try{let a=await fetch("/api/cep/".concat(e));if(!a.ok)throw Error("Network response was not ok");let s=await a.json();if(s.error)throw Error(s.error||"CEP n\xe3o encontrado.");ew(e=>{let a={...e.address||{},street:s.street,neighborhood:s.neighborhood,city:s.city,state:s.state};return{...e,address:a}})}catch(e){console.error("Failed to fetch address:",e),G({variant:"destructive",title:"Erro de CEP",description:"N\xe3o foi poss\xedvel buscar o endere\xe7o."})}})()},[eP,G,ei,ec]);let eF=eb.cpfCnpj;(0,r.useEffect)(()=>{(async()=>{if(!ec&&!ei||!eF)return;let e=eF.replace(/\D/g,"");if(14===e.length)try{let a=await fetch("/api/cnpj/".concat(e)),s=await a.json();s.error||ew(e=>({...e,legalName:s.razao_social||e.legalName,name:s.nome_fantasia||e.name}))}catch(e){console.error("Failed to fetch CNPJ data:",e)}})()},[eF,ec,ei]);let e$=e=>{ey(e),ew({...e}),eo(!0)},eA=e=>{eh(e),ep(!0)},eB=async()=>{if(!ex){G({variant:"destructive",title:"Erro",description:"Nenhuma barbearia selecionada para exclus\xe3o."});return}try{await (0,A.rd)("/api/barbershops/".concat(ex.id),{method:"DELETE"}),q(e=>e.filter(e=>e.id!==ex.id)),G({title:"Barbearia Exclu\xedda!",description:"".concat(ex.name," foi removida do banco de dados.")})}catch(e){console.error("Erro ao excluir barbearia:",e),G({variant:"destructive",title:"Erro ao Excluir",description:e.message||"N\xe3o foi poss\xedvel remover a barbearia do banco de dados."})}finally{ep(!1),eh(null),ej("")}},eR=e=>{let a=e.target.value;(a=(a=(a=a.replace(/\D/g,"")).replace(/^(\d{2})(\d)/g,"($1) $2")).replace(/(\d{5})(\d)/,"$1-$2")).length>15&&(a=a.substring(0,15)),ew(e=>({...e,phone:a}))},eV=e=>{let a=e.target.value;if(!a){ew(e=>({...e,cpfCnpj:""}));return}a=(a=a.replace(/\D/g,"")).length<=11?(a=(a=a.replace(/(\d{3})(\d)/,"$1.$2")).replace(/(\d{3})(\d)/,"$1.$2")).replace(/(\d{3})(\d{1,2})$/,"$1-$2"):(a=(a=(a=(a=a.substring(0,14)).replace(/^(\d{2})(\d)/,"$1.$2")).replace(/^(\d{2})\.(\d{3})(\d)/,"$1.$2.$3")).replace(/\.(\d{3})(\d)/,".$1/$2")).replace(/(\d{4})(\d)/,"$1-$2"),ew(e=>({...e,cpfCnpj:a}))},eZ=e=>{let{name:a,value:s}=e.target,t=s;"cep"===a&&(t=s.replace(/\D/g,"").replace(/^(\d{5})(\d)/,"$1-$2")),ew(e=>({...e,address:{...e.address,[a]:t}}))},eO=e=>{let{name:a,value:s}=e.target;ew(e=>({...e,[a]:(0,$.Ls)(s)}))},eL=(e,a)=>{ew(s=>({...s,[e]:a}))},eT=async()=>{if(!eN){G({variant:"destructive",title:"Erro",description:"Nenhuma barbearia selecionada."});return}try{let e={name:eb.name,legalName:eb.legalName,cpfCnpj:eb.cpfCnpj,address:eb.address,phone:eb.phone,plan:eb.plan,status:eb.status};if(eb.email&&(e.email=eb.email),eb.expiryDate){let a=(0,E.Qc)(eb.expiryDate,"dd/MM/yyyy",new Date);(0,S.J)(a)&&(e.expiryDate=a.toISOString())}let a=(await (0,A.rd)("/api/barbershops/".concat(eN.id),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).data;q(e=>e.map(e=>e.id===a.id?a:e)),barbershopDocRef&&await updateDoc(barbershopDocRef,e),G({title:"Dados da Barbearia Salvos!",description:"As informa\xe7\xf5es no banco de dados foram atualizadas."});{let e={...a,ownerId:a.ownerId};window.dispatchEvent(new CustomEvent("barbershop-updated",{detail:e}));try{window.localStorage.setItem("barbershop-updated",JSON.stringify({...e,timestamp:Date.now()}))}catch(e){console.warn("N\xe3o foi poss\xedvel sincronizar a atualiza\xe7\xe3o entre abas:",e)}}}catch(e){console.error("Erro ao atualizar barbearia:",e),G({variant:"destructive",title:"Erro ao Salvar",description:e.message||"N\xe3o foi poss\xedvel atualizar os dados da barbearia."})}finally{eo(!1),ey(null)}},eQ=async()=>{if(!eb.email||!eb.password||!eb.name){G({variant:"destructive",title:"Erro",description:"Email, senha e nome da barbearia s\xe3o obrigat\xf3rios."});return}e_(!0);try{let e=(await (0,A.rd)("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:eb.email,password:eb.password,name:eb.name,phone:eb.phone,role:"ADMIN"})})).data.id,a=(0,z.E)(new Date,7),s=(await (0,A.rd)("/api/barbershops",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:eb.name,legalName:eb.legalName,email:eb.email,address:eb.address,phone:eb.phone,cpfCnpj:eb.cpfCnpj,ownerId:e,plan:eb.plan||"B\xe1sico",status:"Ativa",expiryDate:a.toISOString()})})).data;q(e=>[...e||[],s]),G({title:"Barbearia Criada!",description:"".concat(eb.name," foi adicionada com sucesso.")}),em(!1),ew({}),await er()}catch(a){var e;console.error("Erro ao criar barbearia:",a),G({variant:"destructive",title:"Erro no Cadastro",description:(null===(e=a.message)||void 0===e?void 0:e.includes("in use"))?"Este e-mail j\xe1 est\xe1 em uso por outro propriet\xe1rio.":"Ocorreu um erro ao criar a barbearia."})}finally{e_(!1)}},eM=e=>{let a="".concat(e.street,", ").concat(e.number,", ").concat(e.city,", ").concat(e.state);return"https://www.google.com/maps/search/?api=1&query=".concat(encodeURIComponent(a))},eJ=e=>{let a=e.replace(/\D/g,"");return"https://wa.me/55".concat(a)};return U||K?(0,t.jsx)("div",{className:"p-8",children:"Carregando dados..."}):(0,t.jsxs)("div",{className:"flex-1 space-y-6 p-4 md:p-8 pt-6",children:[(0,t.jsxs)(n.Zb,{children:[(0,t.jsxs)(n.Ol,{children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(n.ll,{children:"Gerenciar Barbearias"}),(0,t.jsxs)(n.SZ,{children:["Visualize e edite todos os dados das barbearias cadastradas (",el.length," de ",en.length,")"]})]}),(0,t.jsxs)(o.Vq,{open:ec,onOpenChange:e=>{e||ew({}),em(e)},children:[(0,t.jsx)(o.hg,{asChild:!0,children:(0,t.jsxs)(l.z,{size:"sm",children:[(0,t.jsx)(p.Z,{className:"mr-2 h-4 w-4"})," Nova Barbearia"]})}),(0,t.jsxs)(o.cZ,{className:"sm:max-w-3xl",children:[(0,t.jsx)(o.fK,{children:(0,t.jsx)(o.$N,{children:"Cadastrar Nova Barbearia"})}),(0,t.jsx)("div",{className:"grid gap-4 py-4 max-h-[70vh] overflow-y-auto px-2",children:(0,t.jsxs)("div",{className:"grid gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i._,{htmlFor:"add-email",children:"Email do Propriet\xe1rio"}),(0,t.jsx)(d.I,{id:"add-email",name:"email",type:"email",value:eb.email||"",onChange:e=>ew(a=>({...a,email:e.target.value}))})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i._,{htmlFor:"add-password",children:"Senha Provis\xf3ria"}),(0,t.jsx)(d.I,{id:"add-password",name:"password",type:"password",value:eb.password||"",onChange:e=>ew(a=>({...a,password:e.target.value}))})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i._,{htmlFor:"add-name",children:"Nome da Barbearia"}),(0,t.jsx)(d.I,{id:"add-name",name:"name",value:eb.name||"",onChange:eO})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i._,{htmlFor:"add-cpfCnpj",children:"CPF/CNPJ"}),(0,t.jsx)(d.I,{id:"add-cpfCnpj",name:"cpfCnpj",value:eb.cpfCnpj||"",onChange:eV})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i._,{htmlFor:"add-legalName",children:"Nome/Empresa (Raz\xe3o Social)"}),(0,t.jsx)(d.I,{id:"add-legalName",name:"legalName",value:eb.legalName||"",onChange:eO})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2 col-span-1",children:[(0,t.jsx)(i._,{htmlFor:"add-cep",children:"CEP"}),(0,t.jsx)(d.I,{id:"add-cep",name:"cep",value:(null===(a=eb.address)||void 0===a?void 0:a.cep)||"",onChange:eZ,maxLength:9})]}),(0,t.jsxs)("div",{className:"space-y-2 col-span-2",children:[(0,t.jsx)(i._,{htmlFor:"add-street",children:"Rua"}),(0,t.jsx)(d.I,{id:"add-street",name:"street",value:(null===(s=eb.address)||void 0===s?void 0:s.street)||"",onChange:eZ})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i._,{htmlFor:"add-number",children:"N\xfamero"}),(0,t.jsx)(d.I,{id:"add-number",name:"number",value:(null===(R=eb.address)||void 0===R?void 0:R.number)||"",onChange:eZ})]}),(0,t.jsxs)("div",{className:"space-y-2 col-span-2",children:[(0,t.jsx)(i._,{htmlFor:"add-neighborhood",children:"Bairro"}),(0,t.jsx)(d.I,{id:"add-neighborhood",name:"neighborhood",value:(null===(V=eb.address)||void 0===V?void 0:V.neighborhood)||"",onChange:eZ})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i._,{htmlFor:"add-city",children:"Cidade"}),(0,t.jsx)(d.I,{id:"add-city",name:"city",value:(null===(Z=eb.address)||void 0===Z?void 0:Z.city)||"",onChange:eZ})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i._,{htmlFor:"add-state",children:"Estado (UF)"}),(0,t.jsx)(d.I,{id:"add-state",name:"state",value:(null===(O=eb.address)||void 0===O?void 0:O.state)||"",onChange:eZ})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i._,{htmlFor:"add-phone",children:"WhatsApp do Propriet\xe1rio"}),(0,t.jsx)(d.I,{id:"add-phone",name:"phone",value:eb.phone||"",onChange:eR,maxLength:15})]})]})}),(0,t.jsxs)(o.cN,{children:[(0,t.jsx)(o.GG,{asChild:!0,children:(0,t.jsx)(l.z,{variant:"outline",children:"Cancelar"})}),(0,t.jsx)(l.z,{onClick:eQ,disabled:eC,children:eC?"Cadastrando...":"Salvar Barbearia"})]})]})]})]}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-4 pt-4",children:[(0,t.jsxs)("div",{className:"relative flex-grow min-w-[200px]",children:[(0,t.jsx)(x.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,t.jsx)(d.I,{placeholder:"Buscar por nome, ID ou email...",className:"pl-10",value:eI,onChange:e=>eD(e.target.value)})]}),(0,t.jsxs)(m.Ph,{value:eE,onValueChange:eS,children:[(0,t.jsx)(m.i4,{className:"w-full sm:w-[180px]",children:(0,t.jsx)(m.ki,{placeholder:"Todos os Status"})}),(0,t.jsxs)(m.Bw,{children:[(0,t.jsx)(m.Ql,{value:"all",children:"Todos os Status"}),(0,t.jsx)(m.Ql,{value:"Ativa",children:"Ativa"}),(0,t.jsx)(m.Ql,{value:"Inativa",children:"Inativa"})]})]}),(0,t.jsxs)(m.Ph,{value:ez,onValueChange:ek,children:[(0,t.jsx)(m.i4,{className:"w-full sm:w-[180px]",children:(0,t.jsx)(m.ki,{placeholder:"Todos os Planos"})}),(0,t.jsxs)(m.Bw,{children:[(0,t.jsx)(m.Ql,{value:"all",children:"Todos os Planos"}),(0,t.jsx)(m.Ql,{value:"B\xe1sico",children:"B\xe1sico"}),(0,t.jsx)(m.Ql,{value:"Premium",children:"Premium"})]})]}),(0,t.jsx)("div",{className:"flex gap-2",children:(0,t.jsxs)(l.z,{variant:"ghost",onClick:()=>{eD(""),eS("all"),ek("all")},children:[(0,t.jsx)(h.Z,{className:"mr-2 h-4 w-4"}),"Limpar"]})})]})]}),(0,t.jsx)(n.aY,{className:"space-y-4",children:el.map(e=>{var a;return(0,t.jsxs)("div",{className:"border border-primary/50 rounded-lg p-4 space-y-4",children:[(0,t.jsx)("div",{className:"flex items-start justify-between",children:(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[(0,t.jsxs)("span",{className:"font-mono text-sm text-muted-foreground pt-1",children:[null===(a=e.ownerId)||void 0===a?void 0:a.substring(0,6),"..."]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-bold text-lg",children:e.name}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:[e.legalName," - ",e.cpfCnpj]})]})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-4",children:[(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(f.Z,{className:"h-4 w-4 mt-1 text-muted-foreground"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"text-sm font-medium",children:"Endere\xe7o"}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:e.fullAddressString}),(0,t.jsx)(l.z,{variant:"link",size:"sm",asChild:!0,className:"p-0 h-auto",children:(0,t.jsx)(F.default,{href:eM(e.address),target:"_blank",rel:"noopener noreferrer",children:"Ver"})})]})]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(j.Z,{className:"h-4 w-4 mt-1 text-muted-foreground"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium",children:"Email do Propriet\xe1rio"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:e.email})]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(g.Z,{className:"h-4 w-4 mt-1 text-muted-foreground"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"text-sm font-medium",children:"WhatsApp do Propriet\xe1rio"}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:e.phone}),(0,t.jsx)(l.z,{variant:"link",size:"sm",asChild:!0,className:"p-0 h-auto text-green-500 hover:text-green-500/90",children:(0,t.jsx)(F.default,{href:eJ(e.phone),target:"_blank",rel:"noopener noreferrer",children:"WhatsApp"})})]})]})]})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(v.Z,{className:"h-4 w-4 mt-1 text-muted-foreground"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium",children:"Plano"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground font-semibold",children:e.plan}),(0,t.jsx)(u.C,{variant:"Ativa"===e.status?"default":"destructive",className:"Ativa"===e.status?"bg-green-500/20 text-green-500 border-green-500/30":"",children:e.status})]})]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(v.Z,{className:"h-4 w-4 mt-1 text-muted-foreground"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium",children:"Data de Vencimento"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:e.expiryDate})]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(v.Z,{className:"h-4 w-4 mt-1 text-muted-foreground"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium",children:"Cadastrado em"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:e.registeredDate})]})]})]})]}),(0,t.jsxs)(n.eW,{className:"p-0 pt-4 flex justify-end gap-2",children:[(0,t.jsxs)(l.z,{variant:"outline",onClick:()=>e$(e),children:[(0,t.jsx)(N.Z,{className:"mr-2 h-4 w-4"})," Editar"]}),(0,t.jsxs)(l.z,{variant:"destructive",onClick:()=>eA(e),children:[(0,t.jsx)(y.Z,{className:"mr-2 h-4 w-4"})," Excluir"]})]})]},e.id)})})]}),(0,t.jsx)(o.Vq,{open:ei,onOpenChange:eo,children:(0,t.jsxs)(o.cZ,{className:"sm:max-w-3xl",children:[(0,t.jsxs)(o.fK,{children:[(0,t.jsx)(o.$N,{children:"Editar Barbearia"}),(0,t.jsxs)(o.Be,{children:["Atualize os dados da barbearia ",null==eN?void 0:eN.name," (C\xf3digo: ",null==eN?void 0:eN.ownerId,")"]})]}),(0,t.jsx)("div",{className:"grid gap-4 py-4 max-h-[70vh] overflow-y-auto px-2",children:(0,t.jsxs)("div",{className:"grid gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i._,{htmlFor:"name",children:"Nome da Barbearia"}),(0,t.jsx)(d.I,{id:"name",name:"name",value:eb.name||"",onChange:eO})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i._,{htmlFor:"legalName",children:"Nome/Empresa (Raz\xe3o Social)"}),(0,t.jsx)(d.I,{id:"legalName",name:"legalName",value:eb.legalName||"",onChange:eO})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i._,{htmlFor:"cpfCnpj",children:"CPF/CNPJ"}),(0,t.jsx)(d.I,{id:"cpfCnpj",name:"cpfCnpj",value:eb.cpfCnpj||"",onChange:eV})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2 col-span-1",children:[(0,t.jsx)(i._,{htmlFor:"cep",children:"CEP"}),(0,t.jsx)(d.I,{id:"cep",name:"cep",value:(null===(L=eb.address)||void 0===L?void 0:L.cep)||"",onChange:eZ,maxLength:9})]}),(0,t.jsxs)("div",{className:"space-y-2 col-span-2",children:[(0,t.jsx)(i._,{htmlFor:"street",children:"Rua"}),(0,t.jsx)(d.I,{id:"street",name:"street",value:(null===(T=eb.address)||void 0===T?void 0:T.street)||"",onChange:eZ})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i._,{htmlFor:"number",children:"N\xfamero"}),(0,t.jsx)(d.I,{id:"number",name:"number",value:(null===(Q=eb.address)||void 0===Q?void 0:Q.number)||"",onChange:eZ})]}),(0,t.jsxs)("div",{className:"space-y-2 col-span-2",children:[(0,t.jsx)(i._,{htmlFor:"neighborhood",children:"Bairro"}),(0,t.jsx)(d.I,{id:"neighborhood",name:"neighborhood",value:(null===(M=eb.address)||void 0===M?void 0:M.neighborhood)||"",onChange:eZ})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i._,{htmlFor:"city",children:"Cidade"}),(0,t.jsx)(d.I,{id:"city",name:"city",value:(null===(J=eb.address)||void 0===J?void 0:J.city)||"",onChange:eZ})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i._,{htmlFor:"state",children:"Estado (UF)"}),(0,t.jsx)(d.I,{id:"state",name:"state",value:(null===(W=eb.address)||void 0===W?void 0:W.state)||"",onChange:eZ})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i._,{htmlFor:"complement",children:"Complemento"}),(0,t.jsx)(d.I,{id:"complement",name:"complement",value:(null===(Y=eb.address)||void 0===Y?void 0:Y.complement)||"",onChange:eZ})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i._,{htmlFor:"email",children:"Email do Propriet\xe1rio"}),(0,t.jsx)(d.I,{id:"email",name:"email",type:"email",value:eb.email||"",onChange:eO,disabled:!0}),(0,t.jsxs)("div",{className:"flex items-start gap-2 p-2 rounded-md bg-yellow-500/10 border border-yellow-500/20 text-yellow-300",children:[(0,t.jsx)(b.Z,{className:"h-4 w-4 mt-0.5 shrink-0"}),(0,t.jsx)("div",{className:"text-xs",children:(0,t.jsx)("p",{children:"A altera\xe7\xe3o do e-mail de login deve ser feita diretamente no Firebase Console para garantir a seguran\xe7a."})})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i._,{htmlFor:"phone",children:"WhatsApp do Propriet\xe1rio"}),(0,t.jsx)(d.I,{id:"phone",name:"phone",value:eb.phone||"",onChange:eR,maxLength:15})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i._,{children:"Status da Assinatura"}),(0,t.jsxs)(m.Ph,{value:eb.status,onValueChange:e=>eL("status",e),children:[(0,t.jsx)(m.i4,{children:(0,t.jsx)(m.ki,{placeholder:"Selecione o status"})}),(0,t.jsxs)(m.Bw,{children:[(0,t.jsx)(m.Ql,{value:"Ativa",children:"Ativa"}),(0,t.jsx)(m.Ql,{value:"Inativa",children:"Inativa"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i._,{children:"Plano"}),(0,t.jsxs)(m.Ph,{value:eb.plan,onValueChange:e=>eL("plan",e),disabled:"Inativa"===eb.status,children:[(0,t.jsx)(m.i4,{children:(0,t.jsx)(m.ki,{placeholder:"Selecione o plano"})}),(0,t.jsxs)(m.Bw,{children:[(0,t.jsx)(m.Ql,{value:"B\xe1sico",children:"B\xe1sico"}),(0,t.jsx)(m.Ql,{value:"Premium",children:"Premium"})]})]})]})]}),eb.plan&&"Ativa"===eb.status&&(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i._,{children:"Valor do Plano (R$)"}),(0,t.jsx)(d.I,{value:(0,$.xG)(B[eb.plan]),readOnly:!0,disabled:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i._,{children:"Data de Vencimento do Plano"}),(0,t.jsxs)(w.J2,{children:[(0,t.jsx)(w.xo,{asChild:!0,children:(0,t.jsxs)(l.z,{variant:"outline",className:"w-full justify-start text-left font-normal",children:[(0,t.jsx)(v.Z,{className:"mr-2 h-4 w-4"}),eb.expiryDate?eb.expiryDate:(0,t.jsx)("span",{children:"Selecione uma data"})]})}),(0,t.jsx)(w.yk,{className:"w-auto p-0",children:(0,t.jsx)(C.f,{mode:"single",selected:eb.expiryDate?(0,E.Qc)(eb.expiryDate,"dd/MM/yyyy",new Date):void 0,onSelect:e=>{e&&ew(a=>({...a,expiryDate:(0,D.WU)(e,"dd/MM/yyyy")}))},initialFocus:!0})})]})]})]})]})}),(0,t.jsxs)(o.cN,{children:[(0,t.jsx)(o.GG,{asChild:!0,children:(0,t.jsx)(l.z,{variant:"outline",children:"Cancelar"})}),(0,t.jsx)(l.z,{onClick:eT,children:"Salvar Altera\xe7\xf5es"})]})]})}),(0,t.jsx)(c.aR,{open:eu,onOpenChange:e=>{e||ej(""),ep(e)},children:(0,t.jsxs)(c._T,{children:[(0,t.jsxs)(c.fY,{children:[(0,t.jsx)(c.f$,{children:"Voc\xea tem certeza absoluta?"}),(0,t.jsxs)(c.yT,{children:["Esta a\xe7\xe3o \xe9 ",(0,t.jsx)("span",{className:"font-bold text-destructive",children:"irrevers\xedvel"})," e excluir\xe1 permanentemente a barbearia ",(0,t.jsx)("span",{className:"font-bold",children:null==ex?void 0:ex.name})," do banco de dados, mas o usu\xe1rio de autentica\xe7\xe3o permanecer\xe1."]}),(0,t.jsxs)("div",{className:"space-y-2 pt-2",children:[(0,t.jsxs)(i._,{htmlFor:"delete-confirm",children:['Para confirmar, digite "',(0,t.jsx)("span",{className:"font-bold",children:"excluir"}),'" abaixo:']}),(0,t.jsx)(d.I,{id:"delete-confirm",value:ef,onChange:e=>ej(e.target.value)})]})]}),(0,t.jsxs)(c.xo,{children:[(0,t.jsx)(c.le,{children:"Cancelar"}),(0,t.jsx)(c.OL,{onClick:eB,disabled:"excluir"!==ef,className:"bg-destructive hover:bg-destructive/90",children:"Sim, Excluir do Banco de Dados"})]})]})})]})}},30767:function(e,a,s){"use strict";s.d(a,{OL:function(){return f},_T:function(){return m},aR:function(){return i},f$:function(){return x},fY:function(){return u},le:function(){return j},xo:function(){return p},yT:function(){return h}});var t=s(57437),r=s(2265),n=s(7880),l=s(93448),d=s(12381);let i=n.fC;n.xz;let o=n.h_,c=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(n.aV,{className:(0,l.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...r,ref:a})});c.displayName=n.aV.displayName;let m=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsxs)(o,{children:[(0,t.jsx)(c,{}),(0,t.jsx)(n.VY,{ref:a,className:(0,l.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...r})]})});m.displayName=n.VY.displayName;let u=e=>{let{className:a,...s}=e;return(0,t.jsx)("div",{className:(0,l.cn)("flex flex-col space-y-2 text-center sm:text-left",a),...s})};u.displayName="AlertDialogHeader";let p=e=>{let{className:a,...s}=e;return(0,t.jsx)("div",{className:(0,l.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...s})};p.displayName="AlertDialogFooter";let x=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(n.Dx,{ref:a,className:(0,l.cn)("text-lg font-semibold",s),...r})});x.displayName=n.Dx.displayName;let h=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(n.dk,{ref:a,className:(0,l.cn)("text-sm text-muted-foreground",s),...r})});h.displayName=n.dk.displayName;let f=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(n.aU,{ref:a,className:(0,l.cn)((0,d.d)(),s),...r})});f.displayName=n.aU.displayName;let j=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(n.$j,{ref:a,className:(0,l.cn)((0,d.d)({variant:"outline"}),"mt-2 sm:mt-0",s),...r})});j.displayName=n.$j.displayName},69174:function(e,a,s){"use strict";s.d(a,{C:function(){return d}});var t=s(57437);s(2265);var r=s(90535),n=s(93448);let l=(0,r.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function d(e){let{className:a,variant:s,...r}=e;return(0,t.jsx)("div",{className:(0,n.cn)(l({variant:s}),a),...r})}},46291:function(e,a,s){"use strict";s.d(a,{f:function(){return p}});var t=s(57437),r=s(2265),n=s(82521),l=s(76848),d=s(19181),i=s(34862),o=s(93448),c=s(12381),m=s(15291),u=s(90641);function p(e){let{className:a,classNames:s,showOutsideDays:p=!0,...x}=e;return(0,t.jsx)(d._W,{locale:i.F,showOutsideDays:p,className:(0,o.cn)("p-3",a),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",caption_dropdowns:"flex justify-center gap-2",nav:"space-x-1 flex items-center",nav_button:(0,o.cn)((0,c.d)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:(0,o.cn)((0,c.d)({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"text-primary font-semibold",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...s},components:{IconLeft:e=>{let{className:a,...s}=e;return(0,t.jsx)(n.Z,{className:(0,o.cn)("h-4 w-4",a),...s})},IconRight:e=>{let{className:a,...s}=e;return(0,t.jsx)(l.Z,{className:(0,o.cn)("h-4 w-4",a),...s})},Dropdown:e=>{var a;let{value:s,onChange:n,children:l,...d}=e,i=r.Children.toArray(l),o=i.find(e=>e.props.value===s),c=e=>{null==n||n({target:{value:e}})};return(0,t.jsxs)(m.Ph,{value:null==s?void 0:s.toString(),onValueChange:e=>{c(e)},children:[(0,t.jsx)(m.i4,{className:"pr-1.5 focus:ring-0 w-auto",children:(0,t.jsx)(m.ki,{children:null==o?void 0:null===(a=o.props)||void 0===a?void 0:a.children})}),(0,t.jsx)(m.Bw,{position:"popper",children:(0,t.jsx)(u.x,{className:"h-80",children:i.map((e,a)=>{var s,r;return(0,t.jsx)(m.Ql,{value:null!==(r=null===(s=e.props.value)||void 0===s?void 0:s.toString())&&void 0!==r?r:"",children:e.props.children},"".concat(e.props.value,"-").concat(a))})})})]})}},...x})}p.displayName="Calendar"},74291:function(e,a,s){"use strict";s.d(a,{$N:function(){return f},Be:function(){return j},GG:function(){return m},Vq:function(){return i},cN:function(){return h},cZ:function(){return p},fK:function(){return x},hg:function(){return o}});var t=s(57437),r=s(2265),n=s(70001),l=s(44986),d=s(93448);let i=n.fC,o=n.xz,c=n.h_,m=n.x8,u=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(n.aV,{ref:a,className:(0,d.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...r})});u.displayName=n.aV.displayName;let p=r.forwardRef((e,a)=>{let{className:s,children:r,...i}=e;return(0,t.jsxs)(c,{children:[(0,t.jsx)(u,{}),(0,t.jsxs)(n.VY,{ref:a,className:(0,d.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...i,children:[r,(0,t.jsxs)(n.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,t.jsx)(l.Z,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});p.displayName=n.VY.displayName;let x=e=>{let{className:a,...s}=e;return(0,t.jsx)("div",{className:(0,d.cn)("flex flex-col space-y-1.5 text-center sm:text-left",a),...s})};x.displayName="DialogHeader";let h=e=>{let{className:a,...s}=e;return(0,t.jsx)("div",{className:(0,d.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...s})};h.displayName="DialogFooter";let f=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(n.Dx,{ref:a,className:(0,d.cn)("text-lg font-semibold leading-none tracking-tight",s),...r})});f.displayName=n.Dx.displayName;let j=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(n.dk,{ref:a,className:(0,d.cn)("text-sm text-muted-foreground",s),...r})});j.displayName=n.dk.displayName},40279:function(e,a,s){"use strict";s.d(a,{I:function(){return l}});var t=s(57437),r=s(2265),n=s(93448);let l=r.forwardRef((e,a)=>{let{className:s,type:r,...l}=e;return(0,t.jsx)("input",{type:r,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:a,...l})});l.displayName="Input"},75060:function(e,a,s){"use strict";s.d(a,{_:function(){return o}});var t=s(57437),r=s(2265),n=s(6394),l=s(90535),d=s(93448);let i=(0,l.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(n.f,{ref:a,className:(0,d.cn)(i(),s),...r})});o.displayName=n.f.displayName},12749:function(e,a,s){"use strict";s.d(a,{J2:function(){return d},xo:function(){return i},yk:function(){return o}});var t=s(57437),r=s(2265),n=s(51777),l=s(93448);let d=n.fC,i=n.xz,o=r.forwardRef((e,a)=>{let{className:s,align:r="center",sideOffset:d=4,...i}=e;return(0,t.jsx)(n.h_,{children:(0,t.jsx)(n.VY,{ref:a,align:r,sideOffset:d,className:(0,l.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...i})})});o.displayName=n.VY.displayName}},function(e){e.O(0,[6137,1906,9049,7347,8888,6008,2550,8642,926,2915,4445,9326,4744,2971,2117,1744],function(){return e(e.s=12583)}),_N_E=e.O()}]);