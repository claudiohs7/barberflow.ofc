(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4026],{58895:function(e,r,n){Promise.resolve().then(n.bind(n,25655))},25655:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return S}});var a=n(57437),i=n(27648),s=n(99376),t=n(83091),o=n(82422),d=n(43335),l=n(52857),c=n(99125),u=n(90887),m=n(22818),h=n(3683),b=n(71245),p=n(23340);function f(){let e=(0,s.usePathname)(),{signOut:r}=(0,b.a)(),n=(0,s.useRouter)(),{toast:f}=(0,p.pm)(),x=[{href:"/super-admin/dashboard",label:"Dashboard",icon:d.Z},{href:"/super-admin/dashboard/barbershops",label:"Barbearias",icon:l.Z},{href:"/super-admin/dashboard/tickets",label:"Tickets",icon:c.Z},{href:"/super-admin/dashboard/announcements",label:"Avisos",icon:u.Z},{href:"/super-admin/dashboard/integrations",label:"Integra\xe7\xf5es",icon:m.Z}];return(0,a.jsxs)(t.Sidebar,{children:[(0,a.jsx)(t.SidebarHeader,{children:(0,a.jsxs)(i.default,{href:"/super-admin/dashboard",className:"flex items-center gap-2",children:[(0,a.jsx)(o.T,{className:"h-7 w-7 text-primary"}),(0,a.jsx)("span",{className:"text-lg font-semibold font-headline",children:"Super Admin"})]})}),(0,a.jsx)(t.SidebarContent,{children:(0,a.jsx)(t.SidebarMenu,{children:x.map(r=>(0,a.jsx)(t.SidebarMenuItem,{children:(0,a.jsx)(t.SidebarMenuButton,{asChild:!0,isActive:e===r.href,tooltip:{children:r.label},children:(0,a.jsx)(i.default,{href:r.href,className:"flex justify-between items-center w-full",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[r.icon?(0,a.jsx)(r.icon,{}):null,(0,a.jsx)("span",{children:r.label})]})})})},r.label))})}),(0,a.jsx)(t.SidebarFooter,{children:(0,a.jsx)(t.SidebarMenu,{children:(0,a.jsx)(t.SidebarMenuItem,{children:(0,a.jsxs)(t.SidebarMenuButton,{onClick:()=>{r().then(()=>{try{localStorage.removeItem("impersonatedBarbershopId")}catch(e){console.warn("Could not access localStorage. Impersonation state may persist.")}f({title:"Logout bem-sucedido!",description:"Voc\xea foi desconectado com seguran\xe7a."}),n.push("/super-admin/login")}).catch(e=>{f({variant:"destructive",title:"Erro ao sair",description:"N\xe3o foi poss\xedvel fazer logout. Tente novamente."})})},children:[(0,a.jsx)(h.Z,{}),(0,a.jsx)("span",{children:"Sair"})]})})})})]})}var x=n(98048);function j(){return(0,a.jsxs)("header",{className:"sticky top-0 z-30 flex h-14 items-center gap-4 border-b bg-background px-4 sm:static sm:h-auto sm:border-0 sm:bg-transparent sm:px-6 pb-4",children:[(0,a.jsx)(t.SidebarTrigger,{}),(0,a.jsxs)("div",{className:"flex items-center gap-2 sm:hidden",children:[(0,a.jsx)(o.T,{className:"h-6 w-6 text-primary"}),(0,a.jsx)("span",{className:"font-bold",children:"BarberFlow"})]}),(0,a.jsx)("div",{className:"relative ml-auto flex-1 md:grow-0"}),(0,a.jsx)("div",{className:"flex items-center gap-4 md:ml-auto md:grow-0 mt-4",children:(0,a.jsx)(x.UserNav,{})})]})}var g=n(82930),v=n(58203);function S(e){let{children:r}=e;return(0,a.jsx)(g.RouteGuard,{children:(0,a.jsxs)(t.SidebarProvider,{children:[(0,a.jsx)(f,{}),(0,a.jsx)(t.SidebarInset,{children:(0,a.jsxs)(v.o,{children:[(0,a.jsx)(j,{}),(0,a.jsx)("main",{className:"flex-1 p-4 sm:px-6 sm:py-0",children:r})]})})]})})}},82422:function(e,r,n){"use strict";n.d(r,{T:function(){return i}});var a=n(57437);function i(e){return(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[(0,a.jsx)("circle",{cx:"6",cy:"6",r:"3"}),(0,a.jsx)("path",{d:"M8.12 8.12 12 12"}),(0,a.jsx)("path",{d:"M20 4 8.12 15.88"}),(0,a.jsx)("circle",{cx:"6",cy:"18",r:"3"}),(0,a.jsx)("path",{d:"M14.88 15.88 20 20"})]})}},82930:function(e,r,n){"use strict";n.d(r,{RouteGuard:function(){return d}});var a=n(57437),i=n(99376),s=n(2265),t=n(71245);function o(e){return e.startsWith("/super-admin")?"super-admin":e.startsWith("/admin")?"admin":e.startsWith("/barber")?"barber":e.startsWith("/client")?"client":null}function d(e){let{children:r}=e,n=(0,i.usePathname)(),d=(0,i.useRouter)(),{user:l,isLoading:c}=(0,t.a)();(0,s.useEffect)(()=>{if(c)return;let e=o(n);if(!["/find-barbershop"].includes(n)&&!l&&e&&["admin","super-admin","barber","client"].includes(e)){let r="/auth/login";"super-admin"===e?r="/super-admin/login":"admin"===e?r="/auth/admin/login":"barber"===e?r="/auth/barber/login":"client"===e&&(r="/auth/client/login"),d.push(r)}},[n,l,c,d]);let u=["admin","super-admin","barber","client"].includes(o(n)||""),m=["/find-barbershop"].includes(n);return c&&u&&!m?(0,a.jsx)("div",{className:"flex h-screen w-full items-center justify-center",children:(0,a.jsx)("p",{children:"Verificando autentica\xe7\xe3o..."})}):!u||l||m?(0,a.jsx)(a.Fragment,{children:r}):null}},58203:function(e,r,n){"use strict";n.d(r,{l:function(){return d},o:function(){return o}});var a=n(57437),i=n(2265),s=n(46586);let t=(0,i.createContext)(void 0);function o(e){let{children:r}=e,[n,o]=(0,i.useState)(s.pe);return(0,a.jsx)(t.Provider,{value:{messageTemplates:n,setMessageTemplates:o},children:r})}function d(){let e=(0,i.useContext)(t);if(void 0===e)throw Error("useMessageTemplates must be used within a MessageTemplatesProvider");return e}},46586:function(e,r,n){"use strict";n.d(r,{pe:function(){return a}}),new Date().getTime();let a=[{id:"tmpl1",name:"Lembrete Padr\xe3o",type:"Lembrete de Agendamento",content:"Ol\xe1, {cliente}!\nPassando para lembrar do seu hor\xe1rio amanh\xe3 \xe0s {horario} com {barbeiro}.\nAt\xe9 l\xe1!\nEquipe {barbearia}.",enabled:!0,reminderHoursBefore:24},{id:"tmpl2",name:"Confirma\xe7\xe3o Padr\xe3o",type:"Confirma\xe7\xe3o de Agendamento",content:"Ol\xe1, {cliente}!\nSeu agendamento para {servico} no dia {data} \xe0s {horario} foi confirmado.\nEquipe {barbearia}.",enabled:!0},{id:"tmpl4",name:"Confirma\xe7\xe3o Manual",type:"Confirma\xe7\xe3o Manual",content:"Ol\xe1, {cliente}!\nPassando para confirmar seu agendamento para {servico} no dia {data} \xe0s {horario} com {barbeiro}.\nPor favor, responda 'SIM' para confirmar.\nEquipe {barbearia}.",enabled:!0},{id:"tmpl3",name:"Pesquisa Padr\xe3o",type:"Pesquisa de Satisfa\xe7\xe3o",content:"Ol\xe1, {cliente}!\nAgradecemos a sua visita.\nO que voc\xea achou do nosso servi\xe7o?\nResponda de 0 a 10.\nEquipe {barbearia}.",enabled:!1}]}},function(e){e.O(0,[6137,1906,9049,7347,8888,6008,1668,1864,3670,1360,8048,2971,2117,1744],function(){return e(e.s=58895)}),_N_E=e.O()}]);