(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9117],{93705:function(e,r,t){Promise.resolve().then(t.bind(t,67813))},67813:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return v}});var n=t(57437),a=t(2265),i=t(12381),o=t(79820),s=t(40279),l=t(53459),u=t(5485),c=t(23818),d=t(98012),f=t(13147),m=t(96246),p=t(94076),h=t(93448),g=t(27648);function v(){let[e,r]=(0,a.useState)(""),[t,v]=(0,a.useState)([]),[x,y]=(0,a.useState)(!0),[b,w]=(0,a.useState)(null);(0,a.useEffect)(()=>{let e=new AbortController;return(async()=>{y(!0),w(null);try{var r;let t=await (0,p.rd)("/api/barbershops",{signal:e.signal,cache:"no-store"});v(null!==(r=t.data)&&void 0!==r?r:[])}catch(e){if((null==e?void 0:e.name)==="AbortError")return;console.error("Erro ao carregar barbearias:",e),w("N\xe3o foi poss\xedvel carregar as barbearias no momento."),v([])}finally{y(!1)}})(),()=>e.abort()},[]);let N=(0,a.useMemo)(()=>{if(!e.trim())return t;let r=e.toLowerCase();return t.filter(e=>{var t,n,a,i;let o=null!==(a=null===(t=e.address)||void 0===t?void 0:t.city)&&void 0!==a?a:"",s=null!==(i=null===(n=e.address)||void 0===n?void 0:n.state)&&void 0!==i?i:"";return e.name.toLowerCase().includes(r)||o.toLowerCase().includes(r)||s.toLowerCase().includes(r)})},[t,e]);return x?(0,n.jsx)("div",{className:"flex items-center justify-center p-8",children:(0,n.jsx)(l.Z,{className:"h-8 w-8 animate-spin"})}):(0,n.jsxs)("div",{className:"container mx-auto py-8",children:[(0,n.jsxs)("div",{className:"text-center mb-12 space-y-4",children:[(0,n.jsx)(i.z,{variant:"outline",asChild:!0,className:"w-fit mx-auto sm:absolute sm:left-8 sm:top-28",children:(0,n.jsxs)(g.default,{href:"/client/dashboard",children:[(0,n.jsx)(u.Z,{className:"mr-2 h-4 w-4"}),"Voltar ao Menu"]})}),(0,n.jsx)("h1",{className:"text-4xl font-bold font-headline mb-2",children:"Encontre sua Barbearia"}),(0,n.jsx)("p",{className:"text-lg text-muted-foreground",children:"Selecione uma barbearia abaixo ou pesquise pelo nome para iniciar seu agendamento."}),(0,n.jsx)("div",{className:"max-w-lg mx-auto",children:(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)(c.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,n.jsx)(s.I,{placeholder:"Pesquisar por nome ou cidade...",className:"pl-10",value:e,onChange:e=>r(e.target.value)})]})})]}),b&&(0,n.jsx)("div",{className:"text-center text-sm font-medium text-destructive",children:b}),(0,n.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:null==N?void 0:N.map(e=>{var r,t;return(0,n.jsxs)(o.Zb,{className:"overflow-hidden transition-all hover:shadow-lg hover:border-primary/50",children:[(0,n.jsx)(o.Ol,{className:"p-0",children:(0,n.jsx)("div",{className:"h-40 bg-muted flex items-center justify-center",children:(0,n.jsxs)(m.Avatar,{className:"h-24 w-24 border-4 border-background",children:[(0,n.jsx)(m.AvatarImage,{src:e.logoUrl,alt:e.name}),(0,n.jsx)(m.AvatarFallback,{children:e.name.charAt(0)})]})})}),(0,n.jsxs)(o.aY,{className:"p-6 text-center",children:[(0,n.jsx)(o.ll,{className:"font-headline",children:e.name}),(0,n.jsxs)(o.SZ,{className:"mt-2 flex items-center justify-center gap-2 text-xs",children:[(0,n.jsx)(d.Z,{className:"h-3 w-3"}),(null===(r=e.address)||void 0===r?void 0:r.city)&&(null===(t=e.address)||void 0===t?void 0:t.state)?"".concat(e.address.city,", ").concat(e.address.state):"Endere\xc7\xf5o n\xc7Å“o informado"]})]}),(0,n.jsx)(o.eW,{className:"p-4 bg-muted/50",children:(0,n.jsx)(i.z,{asChild:!0,className:"w-full",children:(0,n.jsxs)(g.default,{href:"/agendar/".concat((0,h.lV)(e.name)),children:[(0,n.jsx)(f.Z,{className:"mr-2 h-4 w-4"}),"Agendar"]})})})]},e.id)})}),0===N.length&&!x&&(0,n.jsx)("div",{className:"text-center text-muted-foreground py-16",children:(0,n.jsxs)("p",{children:['Nenhuma barbearia encontrada com o nome "',e,'".']})})]})}},96246:function(e,r,t){"use strict";t.d(r,{Avatar:function(){return s},AvatarFallback:function(){return u},AvatarImage:function(){return l}});var n=t(57437),a=t(2265),i=t(70650),o=t(93448);let s=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)(i.fC,{ref:r,className:(0,o.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...a})});s.displayName=i.fC.displayName;let l=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)(i.Ee,{ref:r,className:(0,o.cn)("aspect-square h-full w-full",t),...a})});l.displayName=i.Ee.displayName;let u=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)(i.NY,{ref:r,className:(0,o.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...a})});u.displayName=i.NY.displayName},12381:function(e,r,t){"use strict";t.d(r,{d:function(){return l},z:function(){return u}});var n=t(57437),a=t(2265),i=t(98482),o=t(90535),s=t(93448);let l=(0,o.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),u=a.forwardRef((e,r)=>{let{className:t,variant:a,size:o,asChild:u=!1,...c}=e,d=u?i.g7:"button";return(0,n.jsx)(d,{className:(0,s.cn)(l({variant:a,size:o,className:t})),ref:r,...c})});u.displayName="Button"},79820:function(e,r,t){"use strict";t.d(r,{Ol:function(){return s},SZ:function(){return u},Zb:function(){return o},aY:function(){return c},eW:function(){return d},ll:function(){return l}});var n=t(57437),a=t(2265),i=t(93448);let o=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)("div",{ref:r,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...a})});o.displayName="Card";let s=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)("div",{ref:r,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",t),...a})});s.displayName="CardHeader";let l=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)("div",{ref:r,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",t),...a})});l.displayName="CardTitle";let u=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)("div",{ref:r,className:(0,i.cn)("text-sm text-muted-foreground",t),...a})});u.displayName="CardDescription";let c=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)("div",{ref:r,className:(0,i.cn)("p-6 pt-0",t),...a})});c.displayName="CardContent";let d=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)("div",{ref:r,className:(0,i.cn)("flex items-center p-6 pt-0",t),...a})});d.displayName="CardFooter"},40279:function(e,r,t){"use strict";t.d(r,{I:function(){return o}});var n=t(57437),a=t(2265),i=t(93448);let o=a.forwardRef((e,r)=>{let{className:t,type:a,...o}=e;return(0,n.jsx)("input",{type:a,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...o})});o.displayName="Input"},94076:function(e,r,t){"use strict";t.d(r,{M8:function(){return i},hP:function(){return a},rd:function(){return o}});let n="barberflow_access_token";function a(){return window.localStorage.getItem(n)}function i(e){e?window.localStorage.setItem(n,e):window.localStorage.removeItem(n)}async function o(e){var r,t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=new Headers(n.headers),o=a();o&&i.set("Authorization","Bearer ".concat(o));let s=await fetch(e,{...n,headers:i,credentials:null!==(r=n.credentials)&&void 0!==r?r:"omit"});if(!s.ok){if((s.headers.get("content-type")||"").includes("application/json"))try{let e=(t=await s.json())&&"object"==typeof t?"string"==typeof t.error&&t.error.trim()?t.error.trim():"string"==typeof t.message&&t.message.trim()?t.message.trim():"string"==typeof t.detail&&t.detail.trim()?t.detail.trim():null:null;throw Error(e||s.statusText||"Falha na requisi\xe7\xe3o.")}catch(e){if(e instanceof Error&&e.message)throw e}throw Error((await s.text()).trim()||s.statusText||"Falha na requisi\xe7\xe3o.")}return s.json()}},93448:function(e,r,t){"use strict";t.d(r,{Ls:function(){return o},cn:function(){return i},lV:function(){return l},xG:function(){return s}});var n=t(61994),a=t(53335);function i(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,a.m6)((0,n.W)(r))}function o(e){return e?e.toLowerCase().split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "):""}function s(e){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e)}function l(e){return e?e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"").replace(/-{2,}/g,"-"):""}},70650:function(e,r,t){"use strict";t.d(r,{Ee:function(){return b},NY:function(){return w},fC:function(){return y}});var n=t(2265),a=t(73966),i=t(26606),o=t(61188),s=t(82912),l=t(57437),u="Avatar",[c,d]=(0,a.b)(u),[f,m]=c(u),p=n.forwardRef((e,r)=>{let{__scopeAvatar:t,...a}=e,[i,o]=n.useState("idle");return(0,l.jsx)(f,{scope:t,imageLoadingStatus:i,onImageLoadingStatusChange:o,children:(0,l.jsx)(s.WV.span,{...a,ref:r})})});p.displayName=u;var h="AvatarImage",g=n.forwardRef((e,r)=>{let{__scopeAvatar:t,src:a,onLoadingStatusChange:u=()=>{},...c}=e,d=m(h,t),f=function(e,r){let[t,a]=n.useState("idle");return(0,o.b)(()=>{if(!e){a("error");return}let t=!0,n=new window.Image,i=e=>()=>{t&&a(e)};return a("loading"),n.onload=i("loaded"),n.onerror=i("error"),n.src=e,r&&(n.referrerPolicy=r),()=>{t=!1}},[e,r]),t}(a,c.referrerPolicy),p=(0,i.W)(e=>{u(e),d.onImageLoadingStatusChange(e)});return(0,o.b)(()=>{"idle"!==f&&p(f)},[f,p]),"loaded"===f?(0,l.jsx)(s.WV.img,{...c,ref:r,src:a}):null});g.displayName=h;var v="AvatarFallback",x=n.forwardRef((e,r)=>{let{__scopeAvatar:t,delayMs:a,...i}=e,o=m(v,t),[u,c]=n.useState(void 0===a);return n.useEffect(()=>{if(void 0!==a){let e=window.setTimeout(()=>c(!0),a);return()=>window.clearTimeout(e)}},[a]),u&&"loaded"!==o.imageLoadingStatus?(0,l.jsx)(s.WV.span,{...i,ref:r}):null});x.displayName=v;var y=p,b=g,w=x},98575:function(e,r,t){"use strict";t.d(r,{F:function(){return i},e:function(){return o}});var n=t(2265);function a(e,r){if("function"==typeof e)return e(r);null!=e&&(e.current=r)}function i(...e){return r=>{let t=!1,n=e.map(e=>{let n=a(e,r);return t||"function"!=typeof n||(t=!0),n});if(t)return()=>{for(let r=0;r<n.length;r++){let t=n[r];"function"==typeof t?t():a(e[r],null)}}}}function o(...e){return n.useCallback(i(...e),e)}},73966:function(e,r,t){"use strict";t.d(r,{b:function(){return o},k:function(){return i}});var n=t(2265),a=t(57437);function i(e,r){let t=n.createContext(r),i=e=>{let{children:r,...i}=e,o=n.useMemo(()=>i,Object.values(i));return(0,a.jsx)(t.Provider,{value:o,children:r})};return i.displayName=e+"Provider",[i,function(a){let i=n.useContext(t);if(i)return i;if(void 0!==r)return r;throw Error(`\`${a}\` must be used within \`${e}\``)}]}function o(e,r=[]){let t=[],i=()=>{let r=t.map(e=>n.createContext(e));return function(t){let a=t?.[e]||r;return n.useMemo(()=>({[`__scope${e}`]:{...t,[e]:a}}),[t,a])}};return i.scopeName=e,[function(r,i){let o=n.createContext(i),s=t.length;t=[...t,i];let l=r=>{let{scope:t,children:i,...l}=r,u=t?.[e]?.[s]||o,c=n.useMemo(()=>l,Object.values(l));return(0,a.jsx)(u.Provider,{value:c,children:i})};return l.displayName=r+"Provider",[l,function(t,a){let l=a?.[e]?.[s]||o,u=n.useContext(l);if(u)return u;if(void 0!==i)return i;throw Error(`\`${t}\` must be used within \`${r}\``)}]},function(...e){let r=e[0];if(1===e.length)return r;let t=()=>{let t=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let a=t.reduce((r,{useScope:t,scopeName:n})=>{let a=t(e)[`__scope${n}`];return{...r,...a}},{});return n.useMemo(()=>({[`__scope${r.scopeName}`]:a}),[a])}};return t.scopeName=r.scopeName,t}(i,...r)]}},82912:function(e,r,t){"use strict";t.d(r,{WV:function(){return d},jH:function(){return f}});var n=t(2265),a=t(54887),i=t(98575),o=t(57437),s=n.forwardRef((e,r)=>{let{children:t,...a}=e,i=n.Children.toArray(t),s=i.find(c);if(s){let e=s.props.children,t=i.map(r=>r!==s?r:n.Children.count(e)>1?n.Children.only(null):n.isValidElement(e)?e.props.children:null);return(0,o.jsx)(l,{...a,ref:r,children:n.isValidElement(e)?n.cloneElement(e,void 0,t):null})}return(0,o.jsx)(l,{...a,ref:r,children:t})});s.displayName="Slot";var l=n.forwardRef((e,r)=>{let{children:t,...a}=e;if(n.isValidElement(t)){let e,o;let s=(e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?t.props.ref:t.props.ref||t.ref,l=function(e,r){let t={...r};for(let n in r){let a=e[n],i=r[n];/^on[A-Z]/.test(n)?a&&i?t[n]=(...e)=>{i(...e),a(...e)}:a&&(t[n]=a):"style"===n?t[n]={...a,...i}:"className"===n&&(t[n]=[a,i].filter(Boolean).join(" "))}return{...e,...t}}(a,t.props);return t.type!==n.Fragment&&(l.ref=r?(0,i.F)(r,s):s),n.cloneElement(t,l)}return n.Children.count(t)>1?n.Children.only(null):null});l.displayName="SlotClone";var u=({children:e})=>(0,o.jsx)(o.Fragment,{children:e});function c(e){return n.isValidElement(e)&&e.type===u}var d=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,r)=>{let t=n.forwardRef((e,t)=>{let{asChild:n,...a}=e,i=n?s:r;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,o.jsx)(i,{...a,ref:t})});return t.displayName=`Primitive.${r}`,{...e,[r]:t}},{});function f(e,r){e&&a.flushSync(()=>e.dispatchEvent(r))}},26606:function(e,r,t){"use strict";t.d(r,{W:function(){return a}});var n=t(2265);function a(e){let r=n.useRef(e);return n.useEffect(()=>{r.current=e}),n.useMemo(()=>(...e)=>r.current?.(...e),[])}},61188:function(e,r,t){"use strict";t.d(r,{b:function(){return a}});var n=t(2265),a=globalThis?.document?n.useLayoutEffect:()=>{}},96471:function(e,r,t){"use strict";t.d(r,{Z:function(){return l}});var n=t(2265);let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),i=function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return r.filter((e,r,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===r).join(" ").trim()};var o={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let s=(0,n.forwardRef)((e,r)=>{let{color:t="currentColor",size:a=24,strokeWidth:s=2,absoluteStrokeWidth:l,className:u="",children:c,iconNode:d,...f}=e;return(0,n.createElement)("svg",{ref:r,...o,width:a,height:a,stroke:t,strokeWidth:l?24*Number(s)/Number(a):s,className:i("lucide",u),...f},[...d.map(e=>{let[r,t]=e;return(0,n.createElement)(r,t)}),...Array.isArray(c)?c:[c]])}),l=(e,r)=>{let t=(0,n.forwardRef)((t,o)=>{let{className:l,...u}=t;return(0,n.createElement)(s,{ref:o,iconNode:r,className:i("lucide-".concat(a(e)),l),...u})});return t.displayName="".concat(e),t}},5485:function(e,r,t){"use strict";t.d(r,{Z:function(){return n}});let n=(0,t(96471).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},13147:function(e,r,t){"use strict";t.d(r,{Z:function(){return n}});let n=(0,t(96471).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},53459:function(e,r,t){"use strict";t.d(r,{Z:function(){return n}});let n=(0,t(96471).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},98012:function(e,r,t){"use strict";t.d(r,{Z:function(){return n}});let n=(0,t(96471).Z)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},23818:function(e,r,t){"use strict";t.d(r,{Z:function(){return n}});let n=(0,t(96471).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])}},function(e){e.O(0,[6137,7347,2971,2117,1744],function(){return e(e.s=93705)}),_N_E=e.O()}]);