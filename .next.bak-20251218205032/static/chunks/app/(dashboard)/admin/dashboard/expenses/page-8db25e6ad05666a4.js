(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9509,9088],{91209:function(e,t,a){Promise.resolve().then(a.bind(a,46660))},46660:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return P}});var r=a(57437),s=a(2265),n=a(93448),l=a(12381),i=a(79820),o=a(33804),d=a(40279),c=a(75060),u=a(15291),f=a(74291),m=a(42325),p=a(78084);let x=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(m.fC,{className:(0,n.cn)("grid gap-2",a),...s,ref:t})});x.displayName=m.fC.displayName;let h=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(m.ck,{ref:t,className:(0,n.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),...s,children:(0,r.jsx)(m.z$,{className:"flex items-center justify-center",children:(0,r.jsx)(p.Z,{className:"h-2.5 w-2.5 fill-current text-current"})})})});h.displayName=m.ck.displayName;var g=a(23340),v=a(15847),j=a(43728),y=a(30767),b=a(69174),N=a(30183),w=a(61747),C=a(56942),S=a(31091),_=a(31303),k=a(26811),T=a(75169),R=a(3574),D=a(60474),A=a(31004);let E={total:{label:"Total"}};function I(e){var t,a;let{data:l}=e,[o,d]=s.useState(0),c=s.useMemo(()=>l.reduce((e,t)=>e+t.total,0),[l]),u=null===(t=l[o])||void 0===t?void 0:t.category,f=null===(a=l[o])||void 0===a?void 0:a.total;return(0,r.jsxs)(i.Zb,{className:"flex flex-col",children:[(0,r.jsxs)(i.Ol,{className:"items-center pb-0",children:[(0,r.jsx)(i.ll,{children:"Despesas por Categoria"}),(0,r.jsx)(i.SZ,{children:"Distribui\xe7\xe3o de despesas no m\xeas atual"})]}),(0,r.jsx)(i.aY,{className:"flex-1 pb-0",children:(0,r.jsx)(A.BO,{config:E,className:"mx-auto aspect-square h-[250px]",children:(0,r.jsxs)(T.u,{children:[(0,r.jsx)(A.h7,{cursor:!1,content:(0,r.jsx)(A.dg,{hideLabel:!0,formatter:(e,t,a)=>(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("span",{className:"font-bold",children:a.payload.category}),(0,r.jsx)("span",{children:(0,n.xG)(a.payload.total)})]})})}),(0,r.jsx)(R.b,{data:l,dataKey:"total",nameKey:"category",innerRadius:60,strokeWidth:5,activeIndex:o,activeShape:e=>{let{outerRadius:t=0,...a}=e;return(0,r.jsx)("g",{children:(0,r.jsx)(D.L,{...a,outerRadius:t+8,cornerRadius:5})})},onMouseEnter:(e,t)=>d(t)}),l.length>0&&(0,r.jsxs)("text",{x:"50%",y:"50%",textAnchor:"middle",dominantBaseline:"middle",className:"fill-foreground text-center",children:[(0,r.jsx)("tspan",{x:"50%",y:"50%",className:"text-lg font-bold",children:u}),(0,r.jsx)("tspan",{x:"50%",y:"50%",dy:"1.2em",className:"text-sm text-muted-foreground",children:(0,n.xG)(f||0)})]})]})})}),(0,r.jsx)(i.eW,{className:"flex-col gap-2 text-sm pt-4 border-t",children:(0,r.jsxs)("div",{className:"flex items-center justify-center font-medium",children:["Total do M\xeas: ",(0,n.xG)(c)]})})]})}var O=a(94076);let V=["Aluguel","Contas","Marketing","Produtos","Sal\xe1rios","Outros"],z=["hsl(var(--chart-1))","hsl(var(--chart-2))","hsl(var(--chart-3))","hsl(var(--chart-4))","hsl(var(--chart-5))","hsl(var(--muted))"],F=e=>Math.min(e,1e5).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),M=e=>{let t=e.replace(/\D/g,"");return t?Math.min(Number(t)/100,1e5).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}):""},B=e=>{let t=e.replace(/\D/g,"");return t?Number(t)/100:0};function P(){let{barbershopId:e,isLoading:t}=(0,k.Y)(),{toast:a}=(0,g.pm)(),[m,p]=(0,s.useState)(!1),[T,R]=(0,s.useState)(!1),[D,A]=(0,s.useState)(null),[E,P]=(0,s.useState)(null),[L,Z]=(0,s.useState)([]),[Y,$]=(0,s.useState)(!1),[G,U]=(0,s.useState)(""),[H,K]=(0,s.useState)(""),[q,J]=(0,s.useState)("Vari\xe1vel"),[W,Q]=(0,s.useState)(""),[X,ee]=(0,s.useState)(new Date().toISOString().split("T")[0]);(0,s.useEffect)(()=>{D&&(U(D.description),K(D.category),J(D.type),Q(F(D.amount)),ee(new Date(D.date).toISOString().split("T")[0]))},[D]);let et=(0,s.useCallback)(async()=>{if(!e){Z([]);return}$(!0);try{var t;let a=await (0,O.rd)("/api/expenses?barbershopId=".concat(encodeURIComponent(e)));Z((null===(t=a.data)||void 0===t?void 0:t.map(e=>({...e,date:new Date(e.date)})))||[])}catch(e){Z([]),a({variant:"destructive",title:"Erro",description:"N\xe3o foi poss\xedvel carregar as despesas."})}finally{$(!1)}},[e,a]),ea=async e=>(0,O.rd)("/api/expenses",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),er=async(e,t)=>(0,O.rd)("/api/expenses/".concat(e),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),es=async e=>(0,O.rd)("/api/expenses/".concat(e),{method:"DELETE"});(0,s.useEffect)(()=>{et()},[et]);let en=()=>{U(""),K(""),J("Vari\xe1vel"),Q(""),ee(new Date().toISOString().split("T")[0]),A(null),p(!1)},el=e=>{Q(M(e))},ei=async()=>{if(!G||!H||!W||!X||!q){a({variant:"destructive",title:"Erro",description:"Por favor, preencha todos os campos."});return}let t=B(W);if(!Number.isFinite(t)||t<=0){a({variant:"destructive",title:"Erro",description:"Informe um valor em reais v\xe1lido."});return}let r={description:(0,n.Ls)(G),category:H,type:q,amount:t,date:X};if(D)try{await er(D.id,r),a({title:"Despesa Atualizada!",description:"A despesa foi salva com sucesso."})}catch(e){a({variant:"destructive",title:"Erro",description:e.message||"N\xe3o foi poss\xedvel atualizar a despesa."})}else{if(!e){a({variant:"destructive",title:"Erro",description:"Barbearia n\xe3o configurada."});return}try{await ea({...r,barbershopId:e}),a({title:"Despesa Adicionada!",description:"A nova despesa foi registrada."})}catch(e){a({variant:"destructive",title:"Erro",description:e.message||"N\xe3o foi poss\xedvel criar a despesa."})}}en(),et()},eo=e=>{A(e),p(!0)},ed=e=>{P(e),R(!0)},ec=async()=>{if(E)try{await es(E.id),a({title:"Despesa Exclu\xedda",description:"A despesa foi removida com sucesso."}),et()}catch(e){a({variant:"destructive",title:"Erro",description:e.message||"N\xe3o foi poss\xedvel remover a despesa."})}finally{P(null),R(!1)}},eu=(0,s.useMemo)(()=>{if(!L)return[];let e=new Date,t=(0,N.j)(e),a=(0,w.S)(e);return L.map(e=>{let r=e.date instanceof Date?e.date:new Date(e.date),s=e.amount;if("Vari\xe1vel"===e.type){let e=(0,N.j)(r),n=(0,w.S)(r);(n<a||n===a&&e<t)&&(s=0)}return{...e,date:r,displayAmount:s}})},[L]),ef=(0,s.useMemo)(()=>{let e={};for(let t of eu.filter(e=>e.displayAmount>0))e[t.category]||(e[t.category]=0),e[t.category]+=t.amount;return Object.entries(e).map((e,t)=>{let[a,r]=e;return{category:a,total:r,fill:z[t%z.length]}})},[eu]),em=(0,s.useMemo)(()=>eu.reduce((e,t)=>e+t.displayAmount,0),[eu]),ep=e=>{if("Fixa"!==e.type)return!1;let t=(0,C.b)(new Date),a=new Date(e.date).getUTCDate(),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),a));t>r&&(r=(0,S.z)(r,1));let s=(0,_.j)(r,t);return s>=0&&s<=5};return t?(0,r.jsx)("div",{className:"p-6",children:"Carregando despesas..."}):(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold font-headline",children:"Controle de Despesas"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,r.jsxs)("div",{className:"lg:col-span-1 space-y-8",children:[(0,r.jsxs)(i.Zb,{children:[(0,r.jsx)(i.Ol,{children:(0,r.jsx)(i.ll,{children:"Cadastrar Despesa"})}),(0,r.jsxs)(i.aY,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(c._,{htmlFor:"description",children:"Descri\xe7\xe3o"}),(0,r.jsx)(d.I,{id:"description",value:G,onChange:e=>U(e.target.value),placeholder:"Ex: Aluguel do m\xeas"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(c._,{children:"Tipo de Despesa"}),(0,r.jsxs)(x,{value:q,onValueChange:e=>J(e),className:"flex gap-4",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(h,{value:"Fixa",id:"fixa"}),(0,r.jsx)(c._,{htmlFor:"fixa",children:"Fixa"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(h,{value:"Vari\xe1vel",id:"variavel"}),(0,r.jsx)(c._,{htmlFor:"variavel",children:"Vari\xe1vel"})]})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(c._,{htmlFor:"amount",children:"Valor (R$)"}),(0,r.jsx)(d.I,{id:"amount",type:"text",inputMode:"decimal",value:W,onChange:e=>el(e.target.value),placeholder:"R$ 0,00"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(c._,{htmlFor:"category",children:"Categoria"}),(0,r.jsxs)(u.Ph,{value:H,onValueChange:K,children:[(0,r.jsx)(u.i4,{id:"category",children:(0,r.jsx)(u.ki,{placeholder:"Selecione uma categoria"})}),(0,r.jsx)(u.Bw,{children:V.map(e=>(0,r.jsx)(u.Ql,{value:e,children:e},e))})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(c._,{htmlFor:"date",children:"Data de Vencimento/Compra"}),(0,r.jsx)(d.I,{id:"date",type:"date",value:X,onChange:e=>ee(e.target.value)})]}),(0,r.jsx)(l.z,{onClick:ei,className:"w-full transition-transform duration-300 hover:scale-105 hover:shadow-lg",children:"Cadastrar Despesa"})]})]}),ef.length>0&&(0,r.jsx)(I,{data:ef})]}),(0,r.jsx)("div",{className:"lg:col-span-2",children:(0,r.jsxs)(i.Zb,{children:[(0,r.jsxs)(i.Ol,{children:[(0,r.jsx)(i.ll,{children:"Hist\xf3rico de Despesas"}),(0,r.jsxs)(i.SZ,{children:["Total de despesas registradas no m\xeas: ",(0,r.jsx)("span",{className:"font-bold text-destructive",children:(0,n.xG)(em)})]})]}),(0,r.jsx)(i.aY,{className:"p-0",children:(0,r.jsxs)(o.iA,{children:[(0,r.jsx)(o.xD,{children:(0,r.jsxs)(o.SC,{children:[(0,r.jsx)(o.ss,{children:"Data"}),(0,r.jsx)(o.ss,{className:"hidden md:table-cell",children:"Categoria"}),(0,r.jsx)(o.ss,{children:"Descri\xe7\xe3o"}),(0,r.jsx)(o.ss,{className:"hidden sm:table-cell",children:"Tipo"}),(0,r.jsx)(o.ss,{className:"text-right",children:"Valor"}),(0,r.jsx)(o.ss,{className:"text-right",children:"A\xe7\xf5es"})]})}),(0,r.jsx)(o.RM,{children:t||Y?(0,r.jsx)(o.SC,{children:(0,r.jsx)(o.pj,{colSpan:6,className:"text-center text-muted-foreground py-8",children:"Carregando despesas..."})}):eu.length>0?eu.map(e=>(0,r.jsxs)(o.SC,{children:[(0,r.jsx)(o.pj,{className:(0,n.cn)("font-medium",ep(e)&&"text-red-500 font-bold"),children:e.date.toLocaleDateString()}),(0,r.jsx)(o.pj,{className:"hidden md:table-cell",children:e.category}),(0,r.jsxs)(o.pj,{children:[(0,r.jsx)("p",{children:e.description}),(0,r.jsxs)("div",{className:"md:hidden text-muted-foreground text-xs space-x-2",children:[(0,r.jsx)("span",{children:e.category}),(0,r.jsx)("span",{className:"sm:hidden",children:"-"}),(0,r.jsx)(b.C,{variant:"outline",className:(0,n.cn)("sm:hidden","Vari\xe1vel"===e.type&&"bg-orange-500/20 text-orange-500 border-orange-500/30","Fixa"===e.type&&"bg-blue-500/20 text-blue-500 border-blue-500/30"),children:e.type})]})]}),(0,r.jsx)(o.pj,{className:"hidden sm:table-cell",children:(0,r.jsx)(b.C,{variant:"outline",className:(0,n.cn)("Vari\xe1vel"===e.type&&"bg-orange-500/20 text-orange-500 border-orange-500/30","Fixa"===e.type&&"bg-blue-500/20 text-blue-500 border-blue-500/30"),children:e.type})}),(0,r.jsx)(o.pj,{className:"text-right font-mono",children:(0,n.xG)(e.displayAmount)}),(0,r.jsx)(o.pj,{className:"text-right",children:(0,r.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,r.jsxs)(l.z,{variant:"ghost",size:"icon",onClick:()=>eo(e),className:"text-primary hover:text-primary transition-transform duration-300 hover:scale-105 hover:shadow-lg",children:[(0,r.jsx)(v.Z,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Editar"})]}),(0,r.jsxs)(l.z,{variant:"ghost",size:"icon",className:"text-destructive hover:text-destructive transition-transform duration-300 hover:scale-105 hover:shadow-lg",onClick:()=>ed(e),children:[(0,r.jsx)(j.Z,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Excluir"})]})]})})]},e.id)):(0,r.jsx)(o.SC,{children:(0,r.jsx)(o.pj,{colSpan:6,className:"text-center text-muted-foreground py-8",children:"Nenhuma despesa registrada ainda."})})})]})})]})})]}),(0,r.jsx)(f.Vq,{open:m,onOpenChange:e=>{e||en(),p(e)},children:(0,r.jsxs)(f.cZ,{className:"sm:max-w-md",children:[(0,r.jsxs)(f.fK,{children:[(0,r.jsx)(f.$N,{children:"Editar Despesa"}),(0,r.jsx)(f.Be,{children:"Altere os dados da despesa."})]}),(0,r.jsxs)("div",{className:"space-y-4 py-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(c._,{htmlFor:"edit-description",children:"Descri\xe7\xe3o"}),(0,r.jsx)(d.I,{id:"edit-description",value:G,onChange:e=>U(e.target.value)})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(c._,{children:"Tipo de Despesa"}),(0,r.jsxs)(x,{value:q,onValueChange:e=>J(e),className:"flex gap-4",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(h,{value:"Fixa",id:"edit-fixa"}),(0,r.jsx)(c._,{htmlFor:"edit-fixa",children:"Fixa"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(h,{value:"Vari\xe1vel",id:"edit-variavel"}),(0,r.jsx)(c._,{htmlFor:"edit-variavel",children:"Vari\xe1vel"})]})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(c._,{htmlFor:"edit-amount",children:"Valor (R$)"}),(0,r.jsx)(d.I,{id:"edit-amount",type:"text",inputMode:"decimal",value:W,onChange:e=>el(e.target.value),placeholder:"R$ 0,00"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(c._,{htmlFor:"edit-category",children:"Categoria"}),(0,r.jsxs)(u.Ph,{value:H,onValueChange:K,children:[(0,r.jsx)(u.i4,{id:"edit-category",children:(0,r.jsx)(u.ki,{placeholder:"Selecione uma categoria"})}),(0,r.jsx)(u.Bw,{children:V.map(e=>(0,r.jsx)(u.Ql,{value:e,children:e},e))})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(c._,{htmlFor:"edit-date",children:"Data de Vencimento/Compra"}),(0,r.jsx)(d.I,{id:"edit-date",type:"date",value:X,onChange:e=>ee(e.target.value)})]})]}),(0,r.jsxs)(f.cN,{children:[(0,r.jsx)(f.GG,{asChild:!0,children:(0,r.jsx)(l.z,{variant:"outline",className:"transition-transform duration-300 hover:scale-105 hover:shadow-lg",children:"Cancelar"})}),(0,r.jsx)(l.z,{onClick:ei,className:"transition-transform duration-300 hover:scale-105 hover:shadow-lg",children:"Salvar Altera\xe7\xf5es"})]})]})}),(0,r.jsx)(y.aR,{open:T,onOpenChange:R,children:(0,r.jsxs)(y._T,{children:[(0,r.jsxs)(y.fY,{children:[(0,r.jsx)(y.f$,{children:"Voc\xea tem certeza?"}),(0,r.jsxs)(y.yT,{children:["Esta a\xe7\xe3o n\xe3o pode ser desfeita. Isso excluir\xe1 permanentemente a despesa de ",(0,r.jsx)("span",{className:"font-bold",children:null==E?void 0:E.description}),"."]})]}),(0,r.jsxs)(y.xo,{children:[(0,r.jsx)(y.le,{children:"Cancelar"}),(0,r.jsx)(y.OL,{onClick:ec,className:"bg-destructive hover:bg-destructive/90 transition-transform duration-300 hover:scale-105 hover:shadow-lg",children:"Excluir"})]})]})})]})}},30767:function(e,t,a){"use strict";a.d(t,{OL:function(){return h},_T:function(){return u},aR:function(){return o},f$:function(){return p},fY:function(){return f},le:function(){return g},xo:function(){return m},yT:function(){return x}});var r=a(57437),s=a(2265),n=a(7880),l=a(93448),i=a(12381);let o=n.fC;n.xz;let d=n.h_,c=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.aV,{className:(0,l.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...s,ref:t})});c.displayName=n.aV.displayName;let u=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsxs)(d,{children:[(0,r.jsx)(c,{}),(0,r.jsx)(n.VY,{ref:t,className:(0,l.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...s})]})});u.displayName=n.VY.displayName;let f=e=>{let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,l.cn)("flex flex-col space-y-2 text-center sm:text-left",t),...a})};f.displayName="AlertDialogHeader";let m=e=>{let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,l.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};m.displayName="AlertDialogFooter";let p=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.Dx,{ref:t,className:(0,l.cn)("text-lg font-semibold",a),...s})});p.displayName=n.Dx.displayName;let x=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.dk,{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",a),...s})});x.displayName=n.dk.displayName;let h=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.aU,{ref:t,className:(0,l.cn)((0,i.d)(),a),...s})});h.displayName=n.aU.displayName;let g=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.$j,{ref:t,className:(0,l.cn)((0,i.d)({variant:"outline"}),"mt-2 sm:mt-0",a),...s})});g.displayName=n.$j.displayName},69174:function(e,t,a){"use strict";a.d(t,{C:function(){return i}});var r=a(57437);a(2265);var s=a(90535),n=a(93448);let l=(0,s.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:t,variant:a,...s}=e;return(0,r.jsx)("div",{className:(0,n.cn)(l({variant:a}),t),...s})}},12381:function(e,t,a){"use strict";a.d(t,{d:function(){return o},z:function(){return d}});var r=a(57437),s=a(2265),n=a(98482),l=a(90535),i=a(93448);let o=(0,l.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=s.forwardRef((e,t)=>{let{className:a,variant:s,size:l,asChild:d=!1,...c}=e,u=d?n.g7:"button";return(0,r.jsx)(u,{className:(0,i.cn)(o({variant:s,size:l,className:a})),ref:t,...c})});d.displayName="Button"},79820:function(e,t,a){"use strict";a.d(t,{Ol:function(){return i},SZ:function(){return d},Zb:function(){return l},aY:function(){return c},eW:function(){return u},ll:function(){return o}});var r=a(57437),s=a(2265),n=a(93448);let l=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...s})});l.displayName="Card";let i=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",a),...s})});i.displayName="CardHeader";let o=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",a),...s})});o.displayName="CardTitle";let d=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",a),...s})});d.displayName="CardDescription";let c=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",a),...s})});c.displayName="CardContent";let u=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",a),...s})});u.displayName="CardFooter"},31004:function(e,t,a){"use strict";a.d(t,{BO:function(){return f},dg:function(){return x},h7:function(){return p}});var r=a(57437),s=a(2265),n=a(47625),l=a(8147),i=a(22190),o=a(93448);let d={light:"",dark:".dark"},c=s.createContext(null);function u(){let e=s.useContext(c);if(!e)throw Error("useChart must be used within a <ChartContainer />");return e}let f=s.forwardRef((e,t)=>{let{id:a,className:l,children:i,config:d,...u}=e,f=s.useId(),p="chart-".concat(a||f.replace(/:/g,""));return(0,r.jsx)(c.Provider,{value:{config:d},children:(0,r.jsxs)("div",{"data-chart":p,ref:t,className:(0,o.cn)("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",l),...u,children:[(0,r.jsx)(m,{id:p,config:d}),(0,r.jsx)(n.h,{children:i})]})})});f.displayName="Chart";let m=e=>{let{id:t,config:a}=e,s=Object.entries(a).filter(e=>{let[,t]=e;return t.theme||t.color});return s.length?(0,r.jsx)("style",{dangerouslySetInnerHTML:{__html:Object.entries(d).map(e=>{let[a,r]=e;return"\n".concat(r," [data-chart=").concat(t,"] {\n").concat(s.map(e=>{var t;let[r,s]=e,n=(null===(t=s.theme)||void 0===t?void 0:t[a])||s.color;return n?"  --color-".concat(r,": ").concat(n,";"):null}).join("\n"),"\n}\n")}).join("\n")}}):null},p=l.u,x=s.forwardRef((e,t)=>{let{active:a,payload:n,className:l,indicator:i="dot",hideLabel:d=!1,hideIndicator:c=!1,label:f,labelFormatter:m,labelClassName:p,formatter:x,color:g,nameKey:v,labelKey:j}=e,{config:y}=u(),b=s.useMemo(()=>{var e;if(d||!(null==n?void 0:n.length))return null;let[t]=n,a="".concat(j||t.dataKey||t.name||"value"),s=h(y,t,a),l=j||"string"!=typeof f?null==s?void 0:s.label:(null===(e=y[f])||void 0===e?void 0:e.label)||f;return m?(0,r.jsx)("div",{className:(0,o.cn)("font-medium",p),children:m(l,n)}):l?(0,r.jsx)("div",{className:(0,o.cn)("font-medium",p),children:l}):null},[f,m,n,d,p,y,j]);if(!a||!(null==n?void 0:n.length))return null;let N=1===n.length&&"dot"!==i;return(0,r.jsxs)("div",{ref:t,className:(0,o.cn)("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",l),children:[N?null:b,(0,r.jsx)("div",{className:"grid gap-1.5",children:n.map((e,t)=>{let a="".concat(v||e.name||e.dataKey||"value"),s=h(y,e,a),n=g||e.payload.fill||e.color;return(0,r.jsx)("div",{className:(0,o.cn)("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground","dot"===i&&"items-center"),children:x&&(null==e?void 0:e.value)!==void 0&&e.name?x(e.value,e.name,e,t,e.payload):(0,r.jsxs)(r.Fragment,{children:[(null==s?void 0:s.icon)?(0,r.jsx)(s.icon,{}):!c&&(0,r.jsx)("div",{className:(0,o.cn)("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":"dot"===i,"w-1":"line"===i,"w-0 border-[1.5px] border-dashed bg-transparent":"dashed"===i,"my-0.5":N&&"dashed"===i}),style:{"--color-bg":n,"--color-border":n}}),(0,r.jsxs)("div",{className:(0,o.cn)("flex flex-1 justify-between leading-none",N?"items-end":"items-center"),children:[(0,r.jsxs)("div",{className:"grid gap-1.5",children:[N?b:null,(0,r.jsx)("span",{className:"text-muted-foreground",children:(null==s?void 0:s.label)||e.name})]}),e.value&&(0,r.jsx)("span",{className:"font-mono font-medium tabular-nums text-foreground",children:e.value.toLocaleString()})]})]})},e.dataKey)})})]})});function h(e,t,a){if("object"!=typeof t||null===t)return;let r="payload"in t&&"object"==typeof t.payload&&null!==t.payload?t.payload:void 0,s=a;return a in t&&"string"==typeof t[a]?s=t[a]:r&&a in r&&"string"==typeof r[a]&&(s=r[a]),s in e?e[s]:e[a]}x.displayName="ChartTooltip",i.D,s.forwardRef((e,t)=>{let{className:a,hideIcon:s=!1,payload:n,verticalAlign:l="bottom",nameKey:i}=e,{config:d}=u();return(null==n?void 0:n.length)?(0,r.jsx)("div",{ref:t,className:(0,o.cn)("flex items-center justify-center gap-4","top"===l?"pb-3":"pt-3",a),children:n.map(e=>{let t="".concat(i||e.dataKey||"value"),a=h(d,e,t);return(0,r.jsxs)("div",{className:(0,o.cn)("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[(null==a?void 0:a.icon)&&!s?(0,r.jsx)(a.icon,{}):(0,r.jsx)("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:e.color}}),null==a?void 0:a.label]},e.value)})}):null}).displayName="ChartLegend"},74291:function(e,t,a){"use strict";a.d(t,{$N:function(){return h},Be:function(){return g},GG:function(){return u},Vq:function(){return o},cN:function(){return x},cZ:function(){return m},fK:function(){return p},hg:function(){return d}});var r=a(57437),s=a(2265),n=a(70001),l=a(44986),i=a(93448);let o=n.fC,d=n.xz,c=n.h_,u=n.x8,f=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.aV,{ref:t,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...s})});f.displayName=n.aV.displayName;let m=s.forwardRef((e,t)=>{let{className:a,children:s,...o}=e;return(0,r.jsxs)(c,{children:[(0,r.jsx)(f,{}),(0,r.jsxs)(n.VY,{ref:t,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...o,children:[s,(0,r.jsxs)(n.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,r.jsx)(l.Z,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});m.displayName=n.VY.displayName;let p=e=>{let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};p.displayName="DialogHeader";let x=e=>{let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};x.displayName="DialogFooter";let h=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.Dx,{ref:t,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",a),...s})});h.displayName=n.Dx.displayName;let g=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.dk,{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",a),...s})});g.displayName=n.dk.displayName},40279:function(e,t,a){"use strict";a.d(t,{I:function(){return l}});var r=a(57437),s=a(2265),n=a(93448);let l=s.forwardRef((e,t)=>{let{className:a,type:s,...l}=e;return(0,r.jsx)("input",{type:s,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...l})});l.displayName="Input"},75060:function(e,t,a){"use strict";a.d(t,{_:function(){return d}});var r=a(57437),s=a(2265),n=a(6394),l=a(90535),i=a(93448);let o=(0,l.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.f,{ref:t,className:(0,i.cn)(o(),a),...s})});d.displayName=n.f.displayName},15291:function(e,t,a){"use strict";a.d(t,{Bw:function(){return x},Ph:function(){return c},Ql:function(){return h},i4:function(){return f},ki:function(){return u}});var r=a(57437),s=a(2265),n=a(74797),l=a(3289),i=a(47969),o=a(59559),d=a(93448);let c=n.fC;n.ZA;let u=n.B4,f=s.forwardRef((e,t)=>{let{className:a,children:s,...i}=e;return(0,r.jsxs)(n.xz,{ref:t,className:(0,d.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...i,children:[s,(0,r.jsx)(n.JO,{asChild:!0,children:(0,r.jsx)(l.Z,{className:"h-4 w-4 opacity-50"})})]})});f.displayName=n.xz.displayName;let m=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.u_,{ref:t,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",a),...s,children:(0,r.jsx)(i.Z,{className:"h-4 w-4"})})});m.displayName=n.u_.displayName;let p=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.$G,{ref:t,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",a),...s,children:(0,r.jsx)(l.Z,{className:"h-4 w-4"})})});p.displayName=n.$G.displayName;let x=s.forwardRef((e,t)=>{let{className:a,children:s,position:l="popper",...i}=e;return(0,r.jsx)(n.h_,{children:(0,r.jsxs)(n.VY,{ref:t,className:(0,d.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===l&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:l,...i,children:[(0,r.jsx)(m,{}),(0,r.jsx)(n.l_,{className:(0,d.cn)("p-1","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),(0,r.jsx)(p,{})]})})});x.displayName=n.VY.displayName,s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.__,{ref:t,className:(0,d.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...s})}).displayName=n.__.displayName;let h=s.forwardRef((e,t)=>{let{className:a,children:s,...l}=e;return(0,r.jsxs)(n.ck,{ref:t,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...l,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(n.wU,{children:(0,r.jsx)(o.Z,{className:"h-4 w-4"})})}),(0,r.jsx)(n.eT,{children:s})]})});h.displayName=n.ck.displayName,s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.Z0,{ref:t,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",a),...s})}).displayName=n.Z0.displayName},33804:function(e,t,a){"use strict";a.d(t,{RM:function(){return o},SC:function(){return d},iA:function(){return l},pj:function(){return u},ss:function(){return c},xD:function(){return i}});var r=a(57437),s=a(2265),n=a(93448);let l=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{className:"relative w-full overflow-auto",children:(0,r.jsx)("table",{ref:t,className:(0,n.cn)("w-full caption-bottom text-sm",a),...s})})});l.displayName="Table";let i=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("thead",{ref:t,className:(0,n.cn)("[&_tr]:border-b",a),...s})});i.displayName="TableHeader";let o=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("tbody",{ref:t,className:(0,n.cn)("[&_tr:last-child]:border-0",a),...s})});o.displayName="TableBody",s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("tfoot",{ref:t,className:(0,n.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",a),...s})}).displayName="TableFooter";let d=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("tr",{ref:t,className:(0,n.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",a),...s})});d.displayName="TableRow";let c=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("th",{ref:t,className:(0,n.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",a),...s})});c.displayName="TableHead";let u=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("td",{ref:t,className:(0,n.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",a),...s})});u.displayName="TableCell",s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("caption",{ref:t,className:(0,n.cn)("mt-4 text-sm text-muted-foreground",a),...s})}).displayName="TableCaption"},71245:function(e,t,a){"use strict";a.d(t,{AuthProvider:function(){return u},a:function(){return f}});var r=a(57437),s=a(2265),n=a(94076);let l=(0,s.createContext)(void 0),i="barberflow_access_token";function o(e){e?window.localStorage.setItem(i,e):window.localStorage.removeItem(i)}async function d(e){return(await (0,n.rd)("/api/auth/me",{credentials:"omit",headers:{Authorization:"Bearer ".concat(e)}})).data}async function c(){let e=await (0,n.rd)("/api/auth/refresh",{method:"POST",credentials:"include"});return(0,n.M8)(e.data.accessToken),e.data.user}function u(e){let{children:t}=e,[a,i]=(0,s.useState)(null),[u,f]=(0,s.useState)(!0);(0,s.useEffect)(()=>{let e=!0;return(async()=>{f(!0);let t=(0,n.hP)();if(!t){e&&(i(null),f(!1));return}try{let a=await d(t);if(!e)return;i(a)}catch(t){try{let t=await c();e&&i(t)}catch(t){o(null),e&&i(null)}}finally{e&&f(!1)}})(),()=>{e=!1}},[]);let m=async e=>{let t=e.email.trim().toLowerCase(),a=await (0,n.rd)("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...e,email:t})});return o(a.data.accessToken),(0,n.M8)(a.data.accessToken),i(a.data.user),a.data.user},p=async()=>{await fetch("/api/auth/logout",{method:"POST"}),(0,n.M8)(null),i(null)},x=(0,s.useCallback)(async()=>{let e=(0,n.hP)();if(!e)return null;try{let t=await d(e);return i(t),t}catch(e){return i(null),null}},[]),h=(0,s.useMemo)(()=>({user:a,isLoading:u,signIn:m,signOut:p,refreshUser:x}),[a,u,x]);return(0,r.jsx)(l.Provider,{value:h,children:t})}function f(){let e=(0,s.useContext)(l);if(!e)throw Error("useAuth deve ser usado dentro de AuthProvider");return e}},26811:function(e,t,a){"use strict";a.d(t,{N:function(){return o},Y:function(){return d}});var r=a(57437),s=a(71245),n=a(94076),l=a(2265);let i=(0,l.createContext)(void 0);function o(e){let{children:t}=e,{user:a,isLoading:o}=(0,s.a)(),[d,c]=(0,l.useState)(null),[u,f]=(0,l.useState)(!0);return(0,l.useEffect)(()=>{let e=!0,t=null;return o?(f(!0),()=>{e=!1}):a?((async()=>{f(!0),t=new AbortController;try{var r,s,l,i,o,d;let u=await (0,n.rd)("/api/barbershops?ownerId=".concat(encodeURIComponent(a.id)),{signal:t.signal});if(!e)return;let f=null!==(o=null===(s=u.data)||void 0===s?void 0:null===(r=s[0])||void 0===r?void 0:r.id)&&void 0!==o?o:null;if(f){c(f);return}let m=await (0,n.rd)("/api/barbershops",{signal:t.signal});if(!e)return;c(null!==(d=null===(i=m.data)||void 0===i?void 0:null===(l=i[0])||void 0===l?void 0:l.id)&&void 0!==d?d:null)}catch(t){if(!e)return;(null==t?void 0:t.name)!=="AbortError"&&(console.warn("Falha ao buscar barbearia (owner e fallback):",t),c(null))}finally{if(!e)return;f(!1)}})(),()=>{e=!1,null==t||t.abort()}):(c(null),f(!1),()=>{e=!1})},[a,o]),(0,r.jsx)(i.Provider,{value:{barbershopId:d,isLoading:u},children:t})}function d(){let e=(0,l.useContext)(i);if(void 0===e)throw Error("useBarbershopId must be used within a BarbershopIdProvider");return e}},23340:function(e,t,a){"use strict";a.d(t,{pm:function(){return f}});var r=a(2265);let s=0,n=new Map,l=e=>{if(n.has(e))return;let t=setTimeout(()=>{n.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);n.set(e,t)},i=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=t;return a?l(a):e.toasts.forEach(e=>{l(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},o=[],d={toasts:[]};function c(e){d=i(d,e),o.forEach(e=>{e(d)})}function u(e){let{...t}=e,a=(s=(s+1)%Number.MAX_SAFE_INTEGER).toString(),r=()=>c({type:"DISMISS_TOAST",toastId:a});return c({type:"ADD_TOAST",toast:{...t,id:a,open:!0,onOpenChange:e=>{e||r()}}}),{id:a,dismiss:r,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:a}})}}function f(){let[e,t]=r.useState(d);return r.useEffect(()=>(o.push(t),()=>{let e=o.indexOf(t);e>-1&&o.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},94076:function(e,t,a){"use strict";a.d(t,{M8:function(){return n},hP:function(){return s},rd:function(){return l}});let r="barberflow_access_token";function s(){return window.localStorage.getItem(r)}function n(e){e?window.localStorage.setItem(r,e):window.localStorage.removeItem(r)}async function l(e){var t,a;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new Headers(r.headers),l=s();l&&n.set("Authorization","Bearer ".concat(l));let i=await fetch(e,{...r,headers:n,credentials:null!==(t=r.credentials)&&void 0!==t?t:"omit"});if(!i.ok){if((i.headers.get("content-type")||"").includes("application/json"))try{let e=(a=await i.json())&&"object"==typeof a?"string"==typeof a.error&&a.error.trim()?a.error.trim():"string"==typeof a.message&&a.message.trim()?a.message.trim():"string"==typeof a.detail&&a.detail.trim()?a.detail.trim():null:null;throw Error(e||i.statusText||"Falha na requisi\xe7\xe3o.")}catch(e){if(e instanceof Error&&e.message)throw e}throw Error((await i.text()).trim()||i.statusText||"Falha na requisi\xe7\xe3o.")}return i.json()}},93448:function(e,t,a){"use strict";a.d(t,{Ls:function(){return l},cn:function(){return n},lV:function(){return o},xG:function(){return i}});var r=a(61994),s=a(53335);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,s.m6)((0,r.W)(t))}function l(e){return e?e.toLowerCase().split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "):""}function i(e){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e)}function o(e){return e?e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"").replace(/-{2,}/g,"-"):""}}},function(e){e.O(0,[6137,1906,9049,8888,6008,2550,1546,755,2971,2117,1744],function(){return e(e.s=91209)}),_N_E=e.O()}]);