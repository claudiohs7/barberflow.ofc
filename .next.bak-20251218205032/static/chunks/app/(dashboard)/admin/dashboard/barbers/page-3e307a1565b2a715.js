(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5963],{3700:function(e,s,a){Promise.resolve().then(a.bind(a,68188))},68188:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return E}});var r=a(57437),t=a(33145),n=a(12032),i=a(54233),l=a(59022),d=a(81475),o=a(15847),c=a(43728),u=a(53927),h=a(2265),m=a(93448),x=a(27648),f=a(12381),p=a(30767),v=a(79820),j=a(74291),g=a(40279),b=a(75060),N=a(71488),y=a(68245),w=a(33804),C=a(94589),S=a(35465);let k=["Domingo","Segunda-feira","Ter\xe7a-feira","Quarta-feira","Quinta-feira","Sexta-feira","S\xe1bado"];function z(e){let{barber:s,isOpen:a,onOpenChange:t,onSave:n}=e,[i,l]=(0,h.useState)({});(0,h.useEffect)(()=>{s&&l(k.reduce((e,a)=>{var r,t;let n=s.schedule.find(e=>e.day===a);return e[a]={active:!!n,start:(null==n?void 0:n.start)||"08:00",end:(null==n?void 0:n.end)||"18:00",lunchStart:(null==n?void 0:null===(r=n.lunchTime)||void 0===r?void 0:r.start)||"12:00",lunchEnd:(null==n?void 0:null===(t=n.lunchTime)||void 0===t?void 0:t.end)||"13:00"},e},{}))},[s,a]);let o=(e,s)=>{l(a=>({...a,[e]:{...a[e],active:s}}))},c=(e,s,a)=>{l(r=>({...r,[e]:{...r[e],[s]:a}}))};return s?(0,r.jsx)(j.Vq,{open:a,onOpenChange:t,children:(0,r.jsxs)(j.cZ,{className:"sm:max-w-md",children:[(0,r.jsx)(j.fK,{children:(0,r.jsxs)(j.$N,{className:"flex items-center gap-2 font-headline",children:[(0,r.jsx)(d.Z,{className:"h-5 w-5"}),"Hor\xe1rios de Trabalho - ",s.name]})}),(0,r.jsx)("div",{className:"space-y-4 py-4 max-h-[70vh] overflow-y-auto pr-2",children:k.map(e=>{var s,a,t,n,l,d;return(0,r.jsxs)("div",{className:"p-4 rounded-md border bg-muted/50 space-y-3",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)(b._,{htmlFor:"switch-".concat(e),className:"font-medium",children:e}),(0,r.jsx)(C.r,{id:"switch-".concat(e),checked:null===(s=i[e])||void 0===s?void 0:s.active,onCheckedChange:s=>o(e,s)})]}),(null===(a=i[e])||void 0===a?void 0:a.active)&&(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)(b._,{htmlFor:"start-".concat(e),className:"text-xs",children:"In\xedcio"}),(0,r.jsx)(g.I,{id:"start-".concat(e),type:"time",value:null===(t=i[e])||void 0===t?void 0:t.start,onChange:s=>c(e,"start",s.target.value)})]}),(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)(b._,{htmlFor:"end-".concat(e),className:"text-xs",children:"Fim"}),(0,r.jsx)(g.I,{id:"end-".concat(e),type:"time",value:null===(n=i[e])||void 0===n?void 0:n.end,onChange:s=>c(e,"end",s.target.value)})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(b._,{className:"text-xs font-semibold",children:"Intervalo de Almo\xe7o"}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(g.I,{type:"time",value:null===(l=i[e])||void 0===l?void 0:l.lunchStart,onChange:s=>c(e,"lunchStart",s.target.value)}),(0,r.jsx)("span",{className:"text-sm text-muted-foreground",children:"at\xe9"}),(0,r.jsx)(g.I,{type:"time",value:null===(d=i[e])||void 0===d?void 0:d.lunchEnd,onChange:s=>c(e,"lunchEnd",s.target.value)})]})]})]})]},e)})}),(0,r.jsxs)(j.cN,{children:[(0,r.jsx)(j.GG,{asChild:!0,children:(0,r.jsx)(f.z,{variant:"outline",children:"Cancelar"})}),(0,r.jsxs)(f.z,{onClick:()=>{n(Object.entries(i).filter(e=>{let[,s]=e;return s.active}).map(e=>{let[s,a]=e;return{day:s,start:a.start,end:a.end,lunchTime:{start:a.lunchStart,end:a.lunchEnd}}}))},className:"gap-2",children:[(0,r.jsx)(S.Z,{className:"h-4 w-4"}),"Salvar Hor\xe1rios"]})]})]})}):null}var _=a(23340),I=a(26811),T=a(41354),R=a(94076);function E(){let{barbershopId:e,isLoading:s}=(0,I.Y)(),{toast:a}=(0,_.pm)(),[C,S]=(0,h.useState)([]),[k,E]=(0,h.useState)([]),[A,X]=(0,h.useState)(null),[O,Z]=(0,h.useState)(!1),[B,F]=(0,h.useState)(!1),[q,D]=(0,h.useState)(!1),U=(0,h.useCallback)(async()=>{if(e){D(!0);try{var s,a;let r=await (0,R.rd)("/api/barbershops?ownerId=".concat(encodeURIComponent(e)));X(null!==(a=null===(s=r.data)||void 0===s?void 0:s[0])&&void 0!==a?a:null)}catch(e){X(null)}finally{D(!1)}}},[e]),V=(0,h.useCallback)(async()=>{if(!e){S([]);return}Z(!0);try{let s=await (0,R.rd)("/api/barbers?barbershopId=".concat(encodeURIComponent(e)));S(s.data||[])}catch(e){S([])}finally{Z(!1)}},[e]),$=(0,h.useCallback)(async()=>{if(!e){E([]);return}F(!0);try{let s=await (0,R.rd)("/api/services?barbershopId=".concat(encodeURIComponent(e)));E(s.data||[])}catch(e){E([])}finally{F(!1)}},[e]),G=async s=>{if(!e)throw Error("barbershopId n\xe3o dispon\xedvel");return(await (0,R.rd)("/api/barbers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...s,barbershopId:e})})).data},H=async(e,s)=>(await (0,R.rd)("/api/barbers/".concat(e),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)})).data,L=async e=>{await (0,R.rd)("/api/barbers/".concat(e),{method:"DELETE"})};(0,h.useEffect)(()=>{if(!e){S([]),E([]),X(null),D(!1);return}U(),V(),$()},[e,U,V,$]);let[Y,J]=(0,h.useState)(!1),[M,P]=(0,h.useState)(!1),[K,Q]=(0,h.useState)(!1),[W,ee]=(0,h.useState)(!1),[es,ea]=(0,h.useState)(!1),[er,et]=(0,h.useState)(null),[en,ei]=(0,h.useState)(null),[el,ed]=(0,h.useState)(null),[eo,ec]=(0,h.useState)(""),[eu,eh]=(0,h.useState)(""),[em,ex]=(0,h.useState)(null),[ef,ep]=(0,h.useState)(new Set),[ev,ej]=(0,h.useState)(null),[eg,eb]=(0,h.useState)(new Set),eN=(0,h.useMemo)(()=>""!==eo.trim()&&eu.trim().length>=14&&ef.size>0,[eo,eu,ef]),ey=(0,h.useMemo)(()=>""!==eo.trim()&&eu.trim().length>=14,[eo,eu]),ew=e=>{ed(e),ec(e.name),eh(e.phone),ex(e.avatarUrl),J(!0)},eC=e=>{S(s=>s.map(s=>s.id===e.id?e:s))},eS=async()=>{if(el&&ey)try{let e=await H(el.id,{name:(0,m.Ls)(eo),phone:eu,avatarUrl:em||el.avatarUrl});eC(e),a({title:"Barbeiro Atualizado!",description:"Os dados foram salvos com sucesso."})}catch(e){a({variant:"destructive",title:"Erro",description:e.message||"N\xe3o foi poss\xedvel atualizar o barbeiro."})}finally{J(!1),ed(null)}},ek=async()=>{if(!eN){a({variant:"destructive",title:"Erro",description:"Por favor, preencha todos os campos obrigat\xf3rios."});return}let e=Array.from(ef).map(e=>({serviceId:e})),s={name:(0,m.Ls)(eo),phone:eu,schedule:[],avatarUrl:em||"https://picsum.photos/seed/".concat(new Date().getTime(),"/80/80"),services:e};try{let e=await G(s);S(s=>[...s,e]),a({title:"Barbeiro Adicionado!",description:"".concat((0,m.Ls)(eo)," foi adicionado \xe0 equipe.")}),P(!1),eR(e),ec(""),eh(""),ex(null),ep(new Set)}catch(e){a({variant:"destructive",title:"Erro",description:e.message||"N\xe3o foi poss\xedvel adicionar o barbeiro."})}},ez=e=>{ei(e),ee(!0)},e_=async()=>{if(en)try{await L(en.id),S(e=>e.filter(e=>e.id!==en.id)),a({title:"Barbeiro Exclu\xeddo!",description:"".concat(en.name," foi removido da equipe.")})}catch(e){a({variant:"destructive",title:"Erro",description:e.message||"N\xe3o foi poss\xedvel remover este barbeiro."})}finally{ee(!1),ei(null)}},eI=e=>{if(e.target.files&&e.target.files[0]){let s=e.target.files[0],a=new FileReader;a.onload=e=>{e.target&&ex(e.target.result)},a.readAsDataURL(s)}},eT=(e,s)=>{let a=e.target.value;(a=(a=(a=a.replace(/\D/g,"")).replace(/^(\d{2})(\d)/g,"($1) $2")).replace(/(\d{5})(\d)/,"$1-$2")).length>15&&(a=a.substring(0,15)),s(a)},eR=e=>{et(e),Q(!0)},eE=async e=>{if(er)try{let s=await H(er.id,{schedule:e});eC(s),a({title:"Hor\xe1rios Salvos!",description:"A agenda de ".concat(er.name," foi atualizada.")})}catch(e){a({variant:"destructive",title:"Erro",description:e.message||"N\xe3o foi poss\xedvel atualizar os hor\xe1rios."})}finally{Q(!1),et(null)}},eA=e=>{var s;ej(e),eb(new Set((null===(s=e.services)||void 0===s?void 0:s.map(e=>e.serviceId))||[])),ea(!0)},eX=async()=>{if(!ev)return;let e=Array.from(eg).map(e=>{var s;return(null===(s=ev.services)||void 0===s?void 0:s.find(s=>s.serviceId===e))||{serviceId:e}});try{let s=await H(ev.id,{services:e});eC(s),a({title:"Servi\xe7os Atualizados",description:"Os servi\xe7os de ".concat(ev.name," foram atualizados.")})}catch(e){a({variant:"destructive",title:"Erro",description:e.message||"N\xe3o foi poss\xedvel atualizar os servi\xe7os."})}finally{ea(!1),ej(null)}},eO=e=>{if(!e)return[];let s={Domingo:0,"Segunda-feira":1,"Ter\xe7a-feira":2,"Quarta-feira":3,"Quinta-feira":4,"Sexta-feira":5,SÃ¡bado:6};return[...e].sort((e,a)=>s[e.day]-s[a.day])},eZ=(e,s)=>{if(!e||0===e.length)return(0,r.jsx)("p",{className:"text-xs text-muted-foreground font-medium",children:"Nenhum hor\xe1rio definido."});let a=eO(e),t=new Map(null==s?void 0:s.map(e=>[e.day,e]));return(0,r.jsx)("div",{className:"space-y-1 text-xs",children:a.map(e=>{let s=t.get(e.day),a=(null==s?void 0:s.open)==="closed";return(0,r.jsx)(N.pn,{children:(0,r.jsxs)(N.u,{children:[(0,r.jsx)(N.aJ,{asChild:!0,children:(0,r.jsxs)("div",{className:(0,m.cn)("flex gap-2",a&&"text-destructive"),children:[(0,r.jsxs)("span",{className:"font-medium w-12 shrink-0",children:[e.day.substring(0,3),":"]}),(0,r.jsxs)("span",{children:[e.start," - ",e.end]}),a&&(0,r.jsx)(n.Z,{className:"h-4 w-4"})]})}),a&&(0,r.jsx)(N._v,{children:(0,r.jsx)("p",{children:"A barbearia est\xe1 fechada neste dia."})})]})},e.day)})})},eB=e=>{if(!e||0===e.length)return(0,r.jsx)("p",{className:"text-xs text-muted-foreground font-medium",children:"-"});let s=eO(e);return(0,r.jsx)("div",{className:"space-y-1 text-xs text-muted-foreground",children:s.map(e=>(0,r.jsxs)("div",{className:"flex gap-2 h-4 items-center",children:[(0,r.jsxs)("span",{className:"font-medium w-12 shrink-0",children:[e.day.substring(0,3),":"]}),e.lunchTime&&e.lunchTime.start&&e.lunchTime.end?(0,r.jsxs)("span",{children:[e.lunchTime.start," - ",e.lunchTime.end]}):(0,r.jsx)("span",{children:"-"})]},e.day))})},eF=e=>e.services&&0!==e.services.length?(0,r.jsxs)("ul",{className:"space-y-1 mt-2 list-disc pl-4 text-xs text-muted-foreground",children:[e.services.slice(0,3).map(e=>{let s=null==k?void 0:k.find(s=>s.id===e.serviceId);return s?(0,r.jsx)("li",{children:s.name},e.serviceId):null}),e.services.length>3&&(0,r.jsxs)("li",{children:["e mais ",e.services.length-3,"..."]})]}):(0,r.jsx)("p",{className:"text-xs text-muted-foreground font-medium",children:"Nenhum servi\xe7o vinculado."}),eq=e=>{if(!e)return"#";let s=e.replace(/\D/g,"");return"https://wa.me/55".concat(s)};return s||q||O||B?(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold font-headline",children:"Barbeiros"}),(0,r.jsxs)(f.z,{size:"sm",className:"gap-1",disabled:!0,children:[(0,r.jsx)(i.Z,{className:"h-4 w-4"}),"Adicionar Barbeiro"]})]}),(0,r.jsxs)(v.Zb,{children:[(0,r.jsxs)(v.Ol,{children:[(0,r.jsx)(v.ll,{children:"Sua Equipe"}),(0,r.jsx)(v.SZ,{children:"Gerencie seus barbeiros, suas agendas e os servi\xe7os que eles oferecem."})]}),(0,r.jsx)(v.aY,{children:(0,r.jsxs)(w.iA,{children:[(0,r.jsx)(w.xD,{children:(0,r.jsxs)(w.SC,{children:[(0,r.jsx)(w.ss,{className:"hidden w-[100px] sm:table-cell",children:(0,r.jsx)("span",{className:"sr-only",children:"Imagem"})}),(0,r.jsx)(w.ss,{children:"Nome"}),(0,r.jsx)(w.ss,{children:"Contato"}),(0,r.jsx)(w.ss,{className:"hidden md:table-cell",children:"Hor\xe1rios"}),(0,r.jsx)(w.ss,{className:"hidden md:table-cell",children:"Intervalo"}),(0,r.jsx)(w.ss,{className:"text-right",children:"A\xe7\xf5es"})]})}),(0,r.jsx)(w.RM,{children:(0,r.jsx)(w.SC,{children:(0,r.jsx)(w.pj,{colSpan:6,className:"text-center text-muted-foreground py-8",children:"Carregando barbeiros..."})})})]})})]})]}):(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold font-headline",children:"Barbeiros"}),(0,r.jsxs)(j.Vq,{open:M,onOpenChange:P,children:[(0,r.jsx)(j.hg,{asChild:!0,children:(0,r.jsxs)(f.z,{size:"sm",className:"gap-1 transition-transform duration-300 hover:scale-105 hover:shadow-lg",onClick:()=>{ec(""),eh(""),ex(null),ep(new Set),P(!0)},children:[(0,r.jsx)(i.Z,{className:"h-4 w-4"}),"Adicionar Barbeiro"]})}),(0,r.jsxs)(j.cZ,{className:"sm:max-w-lg",children:[(0,r.jsxs)(j.fK,{children:[(0,r.jsx)(j.$N,{children:"Adicionar Novo Barbeiro"}),(0,r.jsx)(j.Be,{children:"Preencha os detalhes para adicionar um novo barbeiro \xe0 sua equipe."})]}),(0,r.jsxs)("div",{className:"grid gap-4 py-4 max-h-[70vh] overflow-y-auto px-2",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(b._,{htmlFor:"add-name",children:"Nome *"}),(0,r.jsx)(g.I,{id:"add-name",value:eo,onChange:e=>ec(e.target.value),placeholder:"Nome do Barbeiro"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(b._,{htmlFor:"add-phone",children:"WhatsApp *"}),(0,r.jsx)(g.I,{id:"add-phone",value:eu,onChange:e=>eT(e,eh),placeholder:"(XX) 9XXXX-XXXX",maxLength:15})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(b._,{htmlFor:"add-picture",children:"Foto"}),(0,r.jsx)(g.I,{id:"add-picture",type:"file",onChange:eI,accept:"image/*"})]}),em&&(0,r.jsx)("div",{className:"flex justify-center",children:(0,r.jsx)(t.default,{src:em,alt:"Preview",width:128,height:128,className:"rounded-full aspect-square object-cover"})}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(b._,{children:"Servi\xe7os *"}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Selecione pelo menos um servi\xe7o."}),(0,r.jsxs)("div",{className:"space-y-2 rounded-md border p-4 max-h-40 overflow-y-auto",children:[null==k?void 0:k.map(e=>(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(y.X,{id:"add-service-".concat(e.id),checked:ef.has(e.id),onCheckedChange:s=>{ep(a=>{let r=new Set(a);return s?r.add(e.id):r.delete(e.id),r})}}),(0,r.jsx)(b._,{htmlFor:"add-service-".concat(e.id),className:"font-normal cursor-pointer",children:e.name})]},e.id)),(null==k?void 0:k.length)===0&&(0,r.jsx)("p",{className:"text-sm text-muted-foreground text-center",children:"Nenhum servi\xe7o cadastrado."})]})]})]}),(0,r.jsxs)(j.cN,{children:[(0,r.jsx)(j.GG,{asChild:!0,children:(0,r.jsx)(f.z,{variant:"outline",className:"transition-transform duration-300 hover:scale-105 hover:shadow-lg",children:"Cancelar"})}),(0,r.jsx)(f.z,{type:"submit",onClick:ek,className:"transition-transform duration-300 hover:scale-105 hover:shadow-lg",disabled:!eN,children:"Salvar Barbeiro"})]})]})]})]}),(0,r.jsxs)(v.Zb,{children:[(0,r.jsxs)(v.Ol,{children:[(0,r.jsx)(v.ll,{children:"Sua Equipe"}),(0,r.jsx)(v.SZ,{children:"Gerencie seus barbeiros, suas agendas e os servi\xe7os que eles oferecem."})]}),(0,r.jsx)(v.aY,{children:(0,r.jsxs)(w.iA,{children:[(0,r.jsx)(w.xD,{children:(0,r.jsxs)(w.SC,{children:[(0,r.jsx)(w.ss,{className:"hidden w-[100px] sm:table-cell",children:(0,r.jsx)("span",{className:"sr-only",children:"Imagem"})}),(0,r.jsx)(w.ss,{children:"Nome e Servi\xe7os"}),(0,r.jsx)(w.ss,{children:"Contato"}),(0,r.jsx)(w.ss,{className:"hidden md:table-cell",children:"Hor\xe1rios"}),(0,r.jsx)(w.ss,{className:"hidden md:table-cell",children:"Intervalo"}),(0,r.jsx)(w.ss,{className:"text-right",children:"A\xe7\xf5es"})]})}),(0,r.jsx)(w.RM,{children:C&&C.length>0?C.map(e=>(0,r.jsxs)(w.SC,{children:[(0,r.jsx)(w.pj,{className:"hidden sm:table-cell",children:(0,r.jsx)(t.default,{alt:"Avatar do barbeiro",className:"aspect-square rounded-full object-cover",height:"80",src:e.avatarUrl,width:"80","data-ai-hint":"person portrait"})}),(0,r.jsxs)(w.pj,{className:"font-medium align-top",children:[(0,r.jsx)("div",{children:e.name}),eF(e)]}),(0,r.jsxs)(w.pj,{className:"align-top",children:[(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:e.phone}),(0,r.jsx)(f.z,{variant:"outline",size:"sm",asChild:!0,className:"mt-2 text-green-500 border-green-500 hover:bg-green-500/10 hover:text-green-500",children:(0,r.jsxs)(x.default,{href:eq(e.phone),target:"_blank",children:[(0,r.jsx)(T.y,{className:"mr-2 h-4 w-4"}),"Contatar"]})})]}),(0,r.jsx)(w.pj,{className:"hidden md:table-cell align-top",children:eZ(e.schedule,null==A?void 0:A.operatingHours)}),(0,r.jsx)(w.pj,{className:"hidden md:table-cell align-top",children:eB(e.schedule)}),(0,r.jsx)(w.pj,{className:"text-right align-top",children:(0,r.jsx)(N.pn,{children:(0,r.jsxs)("div",{className:"flex items-center justify-end gap-1",children:[(0,r.jsxs)(N.u,{children:[(0,r.jsx)(N.aJ,{asChild:!0,children:(0,r.jsxs)(f.z,{variant:"ghost",size:"icon",onClick:()=>eA(e),className:"transition-transform duration-300 hover:scale-105 hover:shadow-lg",children:[(0,r.jsx)(l.Z,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Gerenciar Servi\xe7os"})]})}),(0,r.jsx)(N._v,{children:(0,r.jsx)("p",{children:"Gerenciar Servi\xe7os"})})]}),(0,r.jsxs)(N.u,{children:[(0,r.jsx)(N.aJ,{asChild:!0,children:(0,r.jsxs)(f.z,{variant:"ghost",size:"icon",onClick:()=>eR(e),className:"transition-transform duration-300 hover:scale-105 hover:shadow-lg",children:[(0,r.jsx)(d.Z,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Hor\xe1rios de Trabalho"})]})}),(0,r.jsx)(N._v,{children:(0,r.jsx)("p",{children:"Hor\xe1rios de Trabalho"})})]}),(0,r.jsxs)(N.u,{children:[(0,r.jsx)(N.aJ,{asChild:!0,children:(0,r.jsxs)(f.z,{variant:"ghost",size:"icon",onClick:()=>ew(e),className:"text-primary hover:text-primary transition-transform duration-300 hover:scale-105 hover:shadow-lg",children:[(0,r.jsx)(o.Z,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Editar"})]})}),(0,r.jsx)(N._v,{children:(0,r.jsx)("p",{children:"Editar Barbeiro"})})]}),(0,r.jsxs)(N.u,{children:[(0,r.jsx)(N.aJ,{asChild:!0,children:(0,r.jsxs)(f.z,{variant:"ghost",size:"icon",className:"text-destructive hover:text-destructive transition-transform duration-300 hover:scale-105 hover:shadow-lg",onClick:()=>ez(e),children:[(0,r.jsx)(c.Z,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Excluir"})]})}),(0,r.jsx)(N._v,{children:(0,r.jsx)("p",{children:"Excluir Barbeiro"})})]})]})})})]},e.id)):(0,r.jsx)(w.SC,{children:(0,r.jsx)(w.pj,{colSpan:6,className:"text-center text-muted-foreground py-8",children:"Nenhum barbeiro cadastrado."})})})]})})]}),(0,r.jsx)(j.Vq,{open:Y,onOpenChange:J,children:(0,r.jsxs)(j.cZ,{className:"sm:max-w-[425px]",children:[(0,r.jsxs)(j.fK,{children:[(0,r.jsx)(j.$N,{children:"Editar Barbeiro"}),(0,r.jsx)(j.Be,{children:"Altere a foto, nome e contato do barbeiro."})]}),(0,r.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,r.jsx)("div",{className:"flex justify-center",children:(0,r.jsxs)("div",{className:"relative group",children:[(0,r.jsx)(t.default,{alt:"Avatar do barbeiro",className:"aspect-square rounded-full object-cover",height:"128",width:"128",src:em||(null==el?void 0:el.avatarUrl)||"https://picsum.photos/seed/".concat(null==el?void 0:el.id,"/128/128")}),(0,r.jsx)("label",{htmlFor:"picture-edit-".concat(null==el?void 0:el.id),className:"absolute inset-0 flex items-center justify-center bg-black/50 text-white rounded-full cursor-pointer opacity-0 group-hover:opacity-100 transition-opacity",children:(0,r.jsx)(u.Z,{className:"h-6 w-6"})}),(0,r.jsx)(g.I,{id:"picture-edit-".concat(null==el?void 0:el.id),type:"file",onChange:eI,className:"sr-only",accept:"image/*"})]})}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(b._,{htmlFor:"name-edit",children:"Nome *"}),(0,r.jsx)(g.I,{id:"name-edit",value:eo,onChange:e=>ec(e.target.value)})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(b._,{htmlFor:"edit-phone",children:"WhatsApp *"}),(0,r.jsx)(g.I,{id:"edit-phone",value:eu,onChange:e=>eT(e,eh),placeholder:"(XX) 9XXXX-XXXX",maxLength:15})]})]}),(0,r.jsxs)(j.cN,{children:[(0,r.jsx)(j.GG,{asChild:!0,children:(0,r.jsx)(f.z,{variant:"outline",className:"transition-transform duration-300 hover:scale-105 hover:shadow-lg",children:"Cancelar"})}),(0,r.jsx)(f.z,{type:"submit",onClick:eS,className:"transition-transform duration-300 hover:scale-105 hover:shadow-lg",disabled:!ey,children:"Salvar Altera\xe7\xf5es"})]})]})}),(0,r.jsx)(j.Vq,{open:es,onOpenChange:ea,children:(0,r.jsxs)(j.cZ,{children:[(0,r.jsxs)(j.fK,{children:[(0,r.jsxs)(j.$N,{children:["Vincular Servi\xe7os a ",null==ev?void 0:ev.name]}),(0,r.jsx)(j.Be,{children:"Selecione os servi\xe7os que este barbeiro pode realizar."})]}),(0,r.jsx)("div",{className:"space-y-4 py-4 max-h-[60vh] overflow-y-auto",children:null==k?void 0:k.map(e=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-md border",children:[(0,r.jsx)(b._,{htmlFor:"service-link-".concat(e.id),className:"font-medium cursor-pointer",children:e.name}),(0,r.jsx)(y.X,{id:"service-link-".concat(e.id),checked:eg.has(e.id),onCheckedChange:s=>{eb(a=>{let r=new Set(a);return s?r.add(e.id):r.delete(e.id),r})}})]},e.id))}),(0,r.jsxs)(j.cN,{children:[(0,r.jsx)(j.GG,{asChild:!0,children:(0,r.jsx)(f.z,{variant:"outline",className:"transition-transform duration-300 hover:scale-105 hover:shadow-lg",children:"Cancelar"})}),(0,r.jsx)(f.z,{onClick:eX,className:"transition-transform duration-300 hover:scale-105 hover:shadow-lg",children:"Salvar V\xednculos"})]})]})}),er&&(0,r.jsx)(z,{barber:er,isOpen:K,onOpenChange:Q,onSave:eE}),(0,r.jsx)(p.aR,{open:W,onOpenChange:ee,children:(0,r.jsxs)(p._T,{children:[(0,r.jsxs)(p.fY,{children:[(0,r.jsx)(p.f$,{children:"Voc\xea tem certeza?"}),(0,r.jsxs)(p.yT,{children:["Esta a\xe7\xe3o n\xe3o pode ser desfeita. Isso excluir\xe1 permanentemente o barbeiro ",(0,r.jsx)("span",{className:"font-bold",children:null==en?void 0:en.name})," e remover\xe1 seus dados de nossos servidores."]})]}),(0,r.jsxs)(p.xo,{children:[(0,r.jsx)(p.le,{children:"Cancelar"}),(0,r.jsx)(p.OL,{onClick:e_,className:"bg-destructive hover:bg-destructive/90 transition-transform duration-300 hover:scale-105 hover:shadow-lg",children:"Excluir"})]})]})})]})}},41354:function(e,s,a){"use strict";a.d(s,{y:function(){return t}});var r=a(57437);function t(e){return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 16 16",fill:"currentColor",...e,children:(0,r.jsx)("path",{d:"M13.601 2.326A7.85 7.85 0 0 0 7.994 0C3.627 0 .068 3.558.064 7.926c0 1.399.366 2.76 1.057 3.965L0 16l4.204-1.102a7.9 7.9 0 0 0 3.79.965h.004c4.368 0 7.926-3.558 7.93-7.93A7.89 7.89 0 0 0 13.6 2.326zM7.994 14.521a6.57 6.57 0 0 1-3.356-.92l-.24-.144-2.494.654.666-2.433-.156-.251a6.56 6.56 0 0 1-1.007-3.505c0-3.626 2.957-6.584 6.591-6.584a6.56 6.56 0 0 1 4.66 1.931 6.56 6.56 0 0 1 1.928 4.66c-.004 3.639-2.961 6.592-6.592 6.592m3.615-4.934c-.197-.099-1.17-.578-1.353-.646-.182-.065-.315-.099-.445.099-.133.197-.513.646-.627.775-.114.133-.232.148-.43.05-.197-.1-.836-.308-1.592-.985-.59-.525-.985-1.175-1.103-1.372-.114-.198-.011-.304.088-.403.087-.088.197-.232.296-.346.1-.114.133-.198.198-.33.065-.134.034-.248-.015-.347-.05-.1-.445-1.076-.612-1.47-.16-.389-.323-.335-.445-.34-.114-.007-.247-.007-.38-.007a.73.73 0 0 0-.529.247c-.182.198-.691.677-.691 1.654s.71 1.916.81 2.049c.098.133 1.394 2.132 3.383 2.992.47.205.84.326 1.129.418.475.152.904.129 1.246.08.38-.058 1.171-.48 1.338-.943.164-.464.164-.86.114-.943-.049-.084-.182-.133-.38-.232"})})}},30767:function(e,s,a){"use strict";a.d(s,{OL:function(){return p},_T:function(){return u},aR:function(){return d},f$:function(){return x},fY:function(){return h},le:function(){return v},xo:function(){return m},yT:function(){return f}});var r=a(57437),t=a(2265),n=a(7880),i=a(93448),l=a(12381);let d=n.fC;n.xz;let o=n.h_,c=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)(n.aV,{className:(0,i.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...t,ref:s})});c.displayName=n.aV.displayName;let u=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsxs)(o,{children:[(0,r.jsx)(c,{}),(0,r.jsx)(n.VY,{ref:s,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...t})]})});u.displayName=n.VY.displayName;let h=e=>{let{className:s,...a}=e;return(0,r.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-2 text-center sm:text-left",s),...a})};h.displayName="AlertDialogHeader";let m=e=>{let{className:s,...a}=e;return(0,r.jsx)("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...a})};m.displayName="AlertDialogFooter";let x=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)(n.Dx,{ref:s,className:(0,i.cn)("text-lg font-semibold",a),...t})});x.displayName=n.Dx.displayName;let f=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)(n.dk,{ref:s,className:(0,i.cn)("text-sm text-muted-foreground",a),...t})});f.displayName=n.dk.displayName;let p=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)(n.aU,{ref:s,className:(0,i.cn)((0,l.d)(),a),...t})});p.displayName=n.aU.displayName;let v=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)(n.$j,{ref:s,className:(0,i.cn)((0,l.d)({variant:"outline"}),"mt-2 sm:mt-0",a),...t})});v.displayName=n.$j.displayName},68245:function(e,s,a){"use strict";a.d(s,{X:function(){return d}});var r=a(57437),t=a(2265),n=a(9270),i=a(59559),l=a(93448);let d=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)(n.fC,{ref:s,className:(0,l.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",a),...t,children:(0,r.jsx)(n.z$,{className:(0,l.cn)("flex items-center justify-center text-current"),children:(0,r.jsx)(i.Z,{className:"h-4 w-4"})})})});d.displayName=n.fC.displayName},40279:function(e,s,a){"use strict";a.d(s,{I:function(){return i}});var r=a(57437),t=a(2265),n=a(93448);let i=t.forwardRef((e,s)=>{let{className:a,type:t,...i}=e;return(0,r.jsx)("input",{type:t,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:s,...i})});i.displayName="Input"},75060:function(e,s,a){"use strict";a.d(s,{_:function(){return o}});var r=a(57437),t=a(2265),n=a(6394),i=a(90535),l=a(93448);let d=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)(n.f,{ref:s,className:(0,l.cn)(d(),a),...t})});o.displayName=n.f.displayName},94589:function(e,s,a){"use strict";a.d(s,{r:function(){return l}});var r=a(57437),t=a(2265),n=a(50721),i=a(93448);let l=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)(n.fC,{className:(0,i.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",a),...t,ref:s,children:(0,r.jsx)(n.bU,{className:(0,i.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});l.displayName=n.fC.displayName},33804:function(e,s,a){"use strict";a.d(s,{RM:function(){return d},SC:function(){return o},iA:function(){return i},pj:function(){return u},ss:function(){return c},xD:function(){return l}});var r=a(57437),t=a(2265),n=a(93448);let i=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)("div",{className:"relative w-full overflow-auto",children:(0,r.jsx)("table",{ref:s,className:(0,n.cn)("w-full caption-bottom text-sm",a),...t})})});i.displayName="Table";let l=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)("thead",{ref:s,className:(0,n.cn)("[&_tr]:border-b",a),...t})});l.displayName="TableHeader";let d=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)("tbody",{ref:s,className:(0,n.cn)("[&_tr:last-child]:border-0",a),...t})});d.displayName="TableBody",t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)("tfoot",{ref:s,className:(0,n.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",a),...t})}).displayName="TableFooter";let o=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)("tr",{ref:s,className:(0,n.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",a),...t})});o.displayName="TableRow";let c=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)("th",{ref:s,className:(0,n.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",a),...t})});c.displayName="TableHead";let u=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)("td",{ref:s,className:(0,n.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",a),...t})});u.displayName="TableCell",t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)("caption",{ref:s,className:(0,n.cn)("mt-4 text-sm text-muted-foreground",a),...t})}).displayName="TableCaption"},71488:function(e,s,a){"use strict";a.d(s,{_v:function(){return c},aJ:function(){return o},pn:function(){return l},u:function(){return d}});var r=a(57437),t=a(2265),n=a(91668),i=a(93448);let l=n.zt,d=n.fC,o=n.xz,c=t.forwardRef((e,s)=>{let{className:a,sideOffset:t=4,...l}=e;return(0,r.jsx)(n.h_,{children:(0,r.jsx)(n.VY,{ref:s,sideOffset:t,className:(0,i.cn)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...l})})});c.displayName=n.VY.displayName}},function(e){e.O(0,[6137,1906,9049,7347,8888,6008,1668,5878,131,9088,2971,2117,1744],function(){return e(e.s=3700)}),_N_E=e.O()}]);