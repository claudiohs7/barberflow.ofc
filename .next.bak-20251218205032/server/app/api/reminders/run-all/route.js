"use strict";(()=>{var e={};e.id=1253,e.ids=[1253],e.modules={53524:e=>{e.exports=require("@prisma/client")},20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},84770:e=>{e.exports=require("crypto")},77906:(e,r,s)=>{s.r(r),s.d(r,{originalPathname:()=>h,patchFetch:()=>x,requestAsyncStorage:()=>c,routeModule:()=>l,serverHooks:()=>b,staticGenerationAsyncStorage:()=>m});var a={};s.r(a),s.d(a,{POST:()=>d});var t=s(49303),o=s(88716),i=s(60670),n=s(87070),p=s(58181),u=s(78207);async function d(){try{let e=await (0,p.Pz)(),r=[],s=0,a=0;for(let t of e)try{let e=await (0,u.h)(t.id);r.push({barbershopId:t.id,...e}),s+=e.processed||0,a+=e.skipped||0}catch(e){r.push({barbershopId:t.id,error:e?.message||"Erro ao processar barbearia."})}return n.NextResponse.json({message:"Processo de lembretes concluido.",processed:s,skipped:a,results:r})}catch(e){return console.error("Erro ao processar lembretes para todas as barbearias:",e),n.NextResponse.json({error:e?.message||"Erro interno ao processar lembretes."},{status:500})}}let l=new t.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/reminders/run-all/route",pathname:"/api/reminders/run-all",filename:"route",bundlePath:"app/api/reminders/run-all/route"},resolvedPagePath:"/var/www/barberflow/src/app/api/reminders/run-all/route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:c,staticGenerationAsyncStorage:m,serverHooks:b}=l,h="/api/reminders/run-all/route";function x(){return(0,i.patchFetch)({serverHooks:b,staticGenerationAsyncStorage:m})}}};var r=require("../../../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),a=r.X(0,[8948,5972,86,4188,8207],()=>s(77906));module.exports=a})();