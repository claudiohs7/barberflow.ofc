"use strict";(()=>{var e={};e.id=8788,e.ids=[8788],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},78893:e=>{e.exports=require("buffer")},84770:e=>{e.exports=require("crypto")},76162:e=>{e.exports=require("stream")},21764:e=>{e.exports=require("util")},43943:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>x,patchFetch:()=>v,requestAsyncStorage:()=>d,routeModule:()=>c,serverHooks:()=>h,staticGenerationAsyncStorage:()=>m});var a={};t.r(a),t.d(a,{GET:()=>l,dynamic:()=>p});var n=t(49303),o=t(88716),s=t(60670),u=t(87070),i=t(75183);let p="force-dynamic";async function l(e){try{let r=(e.headers.get("Authorization")||"").replace("Bearer ","").trim();if(!r)return u.NextResponse.json({error:"Token ausente"},{status:401});let t=(0,i.e)(r);if(!t||"string"==typeof t)return u.NextResponse.json({error:"Token inv\xe1lido"},{status:401});let a={id:t.userId,email:t.email,role:t.role,name:t.name??null,phone:t.phone??null,avatarUrl:t.avatarUrl??null};return u.NextResponse.json({data:a})}catch(e){return console.error("GET /api/auth/me error:",e),u.NextResponse.json({error:"N\xe3o autenticado"},{status:401})}}let c=new n.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/auth/me/route",pathname:"/api/auth/me",filename:"route",bundlePath:"app/api/auth/me/route"},resolvedPagePath:"/var/www/barberflow/src/app/api/auth/me/route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:d,staticGenerationAsyncStorage:m,serverHooks:h}=c,x="/api/auth/me/route";function v(){return(0,s.patchFetch)({serverHooks:h,staticGenerationAsyncStorage:m})}},75183:(e,r,t)=>{t.d(r,{A:()=>u,e:()=>i});var a=t(41482),n=t.n(a);let o=process.env.JWT_SECRET||"super-secret",s=process.env.JWT_EXPIRES_IN||"30m";function u(e){return n().sign(e,o,{expiresIn:s})}function i(e){try{return n().verify(e,o)}catch{return null}}}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[8948,5972,1482],()=>t(43943));module.exports=a})();