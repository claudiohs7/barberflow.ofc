"use strict";(()=>{var e={};e.id=692,e.ids=[692],e.modules={53524:e=>{e.exports=require("@prisma/client")},20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},84770:e=>{e.exports=require("crypto")},13434:(e,r,i)=>{i.r(r),i.d(r,{originalPathname:()=>w,patchFetch:()=>h,requestAsyncStorage:()=>v,routeModule:()=>p,serverHooks:()=>l,staticGenerationAsyncStorage:()=>m});var t={};i.r(t),i.d(t,{DELETE:()=>d,PATCH:()=>u});var a=i(49303),n=i(88716),s=i(60670),o=i(87070),c=i(18265);async function u(e,{params:r}){try{let i=await e.json(),t=await (0,c.Pg)(r.id,i);return o.NextResponse.json({data:t})}catch(e){return console.error("PATCH /api/services/:id error:",e),o.NextResponse.json({error:"Erro ao atualizar servi\xe7o"},{status:500})}}async function d(e,{params:r}){try{return await (0,c.wo)(r.id),o.NextResponse.json({success:!0})}catch(e){return console.error("DELETE /api/services/:id error:",e),o.NextResponse.json({error:"Erro ao remover servi\xe7o"},{status:500})}}let p=new a.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/services/[id]/route",pathname:"/api/services/[id]",filename:"route",bundlePath:"app/api/services/[id]/route"},resolvedPagePath:"/var/www/barberflow/src/app/api/services/[id]/route.ts",nextConfigOutput:"",userland:t}),{requestAsyncStorage:v,staticGenerationAsyncStorage:m,serverHooks:l}=p,w="/api/services/[id]/route";function h(){return(0,s.patchFetch)({serverHooks:l,staticGenerationAsyncStorage:m})}},63841:(e,r,i)=>{i.d(r,{Z:()=>a});var t=i(53524);let a=globalThis.prisma??new t.PrismaClient({log:["error"]})},18265:(e,r,i)=>{i.d(r,{G6:()=>c,Pg:()=>u,o3:()=>o,wo:()=>d});var t=i(53524),a=i(84770),n=i(63841);function s(e){return{id:e.id,barbershopId:e.barbershopId,name:e.name,description:e.description??void 0,duration:e.durationMinutes,price:Number(e.price),active:e.active}}async function o(e){return(await n.Z.service.findMany({where:{barbershopId:e},orderBy:{name:"asc"}})).map(s)}async function c(e,r){return s(await n.Z.service.create({data:{id:(0,a.randomUUID)(),barbershopId:e,name:r.name,description:r.description,durationMinutes:r.duration,price:new t.Prisma.Decimal(r.price),active:r.active??!0}}))}async function u(e,r){return s(await n.Z.service.update({where:{id:e},data:{name:r.name,description:r.description,durationMinutes:r.duration,price:void 0!==r.price?new t.Prisma.Decimal(r.price):void 0,active:r.active}}))}async function d(e){await n.Z.service.delete({where:{id:e}})}}};var r=require("../../../../webpack-runtime.js");r.C(e);var i=e=>r(r.s=e),t=r.X(0,[8948,5972],()=>i(13434));module.exports=t})();