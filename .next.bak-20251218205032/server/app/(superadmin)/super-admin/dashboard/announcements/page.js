(()=>{var e={};e.id=9954,e.ids=[9954],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},55315:e=>{"use strict";e.exports=require("path")},17360:e=>{"use strict";e.exports=require("url")},14781:(e,a,r)=>{"use strict";r.r(a),r.d(a,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>l}),r(43482),r(40471),r(84332),r(35866),r(98128);var s=r(23191),t=r(88716),n=r(37922),i=r.n(n),o=r(95231),d={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>o[e]);r.d(a,d);let l=["",{children:["(superadmin)",{children:["super-admin",{children:["dashboard",{children:["announcements",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,43482)),"/var/www/barberflow/src/app/(superadmin)/super-admin/dashboard/announcements/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,40471)),"/var/www/barberflow/src/app/(superadmin)/super-admin/dashboard/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,84332)),"/var/www/barberflow/src/app/(superadmin)/super-admin/layout.tsx"]}]},{"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,2304))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,98128)),"/var/www/barberflow/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,2304))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/var/www/barberflow/src/app/(superadmin)/super-admin/dashboard/announcements/page.tsx"],u="/(superadmin)/super-admin/dashboard/announcements/page",m={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:t.x.APP_PAGE,page:"/(superadmin)/super-admin/dashboard/announcements/page",pathname:"/super-admin/dashboard/announcements",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},31718:(e,a,r)=>{Promise.resolve().then(r.bind(r,19502))},2541:(e,a,r)=>{Promise.resolve().then(r.bind(r,32054))},19502:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>p});var s=r(10326),t=r(17577),n=r(46721),i=r(83376),o=r(29752),d=r(44794),l=r(82015),c=r(91664),u=r(84097),m=r(76488);function p(){let[e,a]=(0,t.useState)(""),[r,p]=(0,t.useState)(!1),{toast:h}=(0,u.pm)(),b=async()=>{if(!e.trim()){h({variant:"destructive",title:"Erro",description:"A mensagem nao pode estar vazia."});return}p(!0);try{await (0,m.rd)("/api/announcements",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:"Aviso do Super Admin",content:e})}),h({title:"Aviso enviado!",description:"A mensagem foi enviada para todas as barbearias."}),a("")}catch(e){console.error("Erro ao enviar aviso:",e),h({variant:"destructive",title:"Erro ao enviar",description:e?.message||"Nao foi possivel enviar o aviso."})}finally{p(!1)}};return(0,s.jsxs)("div",{className:"flex-1 space-y-6 p-4 md:p-8 pt-6",children:[s.jsx("div",{className:"flex items-center justify-between space-y-2",children:(0,s.jsxs)("div",{children:[s.jsx("h2",{className:"text-3xl font-bold tracking-tight font-headline",children:"Avisos do Sistema"}),s.jsx("p",{className:"text-muted-foreground",children:"Envie mensagens e avisos para todas as barbearias."})]})}),(0,s.jsxs)(o.Zb,{children:[(0,s.jsxs)(o.Ol,{children:[s.jsx(o.ll,{children:"Criar Novo Aviso"}),s.jsx(o.SZ,{children:"Esta mensagem sera exibida como uma notificacao no painel de todas as barbearias."})]}),s.jsx(o.aY,{children:(0,s.jsxs)("div",{className:"grid w-full gap-2",children:[s.jsx(d._,{htmlFor:"message",children:"Mensagem"}),s.jsx(l.g,{id:"message",placeholder:"Digite sua mensagem aqui...",className:"min-h-32",value:e,onChange:e=>a(e.target.value)}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"A mensagem sera enviada para todos os usuarios ativos."})]})}),s.jsx(o.eW,{children:(0,s.jsxs)(c.z,{onClick:b,disabled:r,children:[r?s.jsx(n.Z,{className:"mr-2 h-4 w-4 animate-spin"}):s.jsx(i.Z,{className:"mr-2 h-4 w-4"}),r?"Enviando...":"Enviar Aviso Global"]})})]})]})}},32054:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>j});var s=r(10326),t=r(90434),n=r(35047),i=r(18699),o=r(11696),d=r(22032),l=r(26971),c=r(36118),u=r(83376);let m=(0,r(9664).Z)("Webhook",[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]]);var p=r(88802),h=r(74690),b=r(84097);function x(){let e=(0,n.usePathname)(),{signOut:a}=(0,h.a)(),r=(0,n.useRouter)(),{toast:x}=(0,b.pm)(),f=[{href:"/super-admin/dashboard",label:"Dashboard",icon:d.Z},{href:"/super-admin/dashboard/barbershops",label:"Barbearias",icon:l.Z},{href:"/super-admin/dashboard/tickets",label:"Tickets",icon:c.Z},{href:"/super-admin/dashboard/announcements",label:"Avisos",icon:u.Z},{href:"/super-admin/dashboard/integrations",label:"Integra\xe7\xf5es",icon:m}];return(0,s.jsxs)(i.Sidebar,{children:[s.jsx(i.SidebarHeader,{children:(0,s.jsxs)(t.default,{href:"/super-admin/dashboard",className:"flex items-center gap-2",children:[s.jsx(o.T,{className:"h-7 w-7 text-primary"}),s.jsx("span",{className:"text-lg font-semibold font-headline",children:"Super Admin"})]})}),s.jsx(i.SidebarContent,{children:s.jsx(i.SidebarMenu,{children:f.map(a=>s.jsx(i.SidebarMenuItem,{children:s.jsx(i.SidebarMenuButton,{asChild:!0,isActive:e===a.href,tooltip:{children:a.label},children:s.jsx(t.default,{href:a.href,className:"flex justify-between items-center w-full",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[a.icon?s.jsx(a.icon,{}):null,s.jsx("span",{children:a.label})]})})})},a.label))})}),s.jsx(i.SidebarFooter,{children:s.jsx(i.SidebarMenu,{children:s.jsx(i.SidebarMenuItem,{children:(0,s.jsxs)(i.SidebarMenuButton,{onClick:()=>{a().then(()=>{try{localStorage.removeItem("impersonatedBarbershopId")}catch(e){console.warn("Could not access localStorage. Impersonation state may persist.")}x({title:"Logout bem-sucedido!",description:"Voc\xea foi desconectado com seguran\xe7a."}),r.push("/super-admin/login")}).catch(e=>{x({variant:"destructive",title:"Erro ao sair",description:"N\xe3o foi poss\xedvel fazer logout. Tente novamente."})})},children:[s.jsx(p.Z,{}),s.jsx("span",{children:"Sair"})]})})})})]})}var f=r(42138);function v(){return(0,s.jsxs)("header",{className:"sticky top-0 z-30 flex h-14 items-center gap-4 border-b bg-background px-4 sm:static sm:h-auto sm:border-0 sm:bg-transparent sm:px-6 pb-4",children:[s.jsx(i.SidebarTrigger,{}),(0,s.jsxs)("div",{className:"flex items-center gap-2 sm:hidden",children:[s.jsx(o.T,{className:"h-6 w-6 text-primary"}),s.jsx("span",{className:"font-bold",children:"BarberFlow"})]}),s.jsx("div",{className:"relative ml-auto flex-1 md:grow-0"}),s.jsx("div",{className:"flex items-center gap-4 md:ml-auto md:grow-0 mt-4",children:s.jsx(f.UserNav,{})})]})}var g=r(71020),y=r(92514);function j({children:e}){return s.jsx(g.RouteGuard,{children:(0,s.jsxs)(i.SidebarProvider,{children:[s.jsx(x,{}),s.jsx(i.SidebarInset,{children:(0,s.jsxs)(y.o,{children:[s.jsx(v,{}),s.jsx("main",{className:"flex-1 p-4 sm:px-6 sm:py-0",children:e})]})})]})})}},44794:(e,a,r)=>{"use strict";r.d(a,{_:()=>l});var s=r(10326),t=r(17577),n=r(34478),i=r(79360),o=r(51223);let d=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),l=t.forwardRef(({className:e,...a},r)=>s.jsx(n.f,{ref:r,className:(0,o.cn)(d(),e),...a}));l.displayName=n.f.displayName},82015:(e,a,r)=>{"use strict";r.d(a,{g:()=>i});var s=r(10326),t=r(17577),n=r(51223);let i=t.forwardRef(({className:e,...a},r)=>s.jsx("textarea",{className:(0,n.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...a}));i.displayName="Textarea"},92514:(e,a,r)=>{"use strict";r.d(a,{l:()=>d,o:()=>o});var s=r(10326),t=r(17577),n=r(64676);let i=(0,t.createContext)(void 0);function o({children:e}){let[a,r]=(0,t.useState)(n.pe);return s.jsx(i.Provider,{value:{messageTemplates:a,setMessageTemplates:r},children:e})}function d(){let e=(0,t.useContext)(i);if(void 0===e)throw Error("useMessageTemplates must be used within a MessageTemplatesProvider");return e}},64676:(e,a,r)=>{"use strict";r.d(a,{pe:()=>s}),new Date().getTime();let s=[{id:"tmpl1",name:"Lembrete Padr\xe3o",type:"Lembrete de Agendamento",content:"Ol\xe1, {cliente}!\nPassando para lembrar do seu hor\xe1rio amanh\xe3 \xe0s {horario} com {barbeiro}.\nAt\xe9 l\xe1!\nEquipe {barbearia}.",enabled:!0,reminderHoursBefore:24},{id:"tmpl2",name:"Confirma\xe7\xe3o Padr\xe3o",type:"Confirma\xe7\xe3o de Agendamento",content:"Ol\xe1, {cliente}!\nSeu agendamento para {servico} no dia {data} \xe0s {horario} foi confirmado.\nEquipe {barbearia}.",enabled:!0},{id:"tmpl4",name:"Confirma\xe7\xe3o Manual",type:"Confirma\xe7\xe3o Manual",content:"Ol\xe1, {cliente}!\nPassando para confirmar seu agendamento para {servico} no dia {data} \xe0s {horario} com {barbeiro}.\nPor favor, responda 'SIM' para confirmar.\nEquipe {barbearia}.",enabled:!0},{id:"tmpl3",name:"Pesquisa Padr\xe3o",type:"Pesquisa de Satisfa\xe7\xe3o",content:"Ol\xe1, {cliente}!\nAgradecemos a sua visita.\nO que voc\xea achou do nosso servi\xe7o?\nResponda de 0 a 10.\nEquipe {barbearia}.",enabled:!1}]},43482:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>s});let s=(0,r(68570).createProxy)(String.raw`/var/www/barberflow/src/app/(superadmin)/super-admin/dashboard/announcements/page.tsx#default`)},40471:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>s});let s=(0,r(68570).createProxy)(String.raw`/var/www/barberflow/src/app/(superadmin)/super-admin/dashboard/layout.tsx#default`)},84332:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>t});var s=r(19510);function t({children:e}){return s.jsx("div",{className:"min-h-screen w-full flex flex-col bg-background",children:e})}},34478:(e,a,r)=>{"use strict";r.d(a,{f:()=>o});var s=r(17577),t=r(77335),n=r(10326),i=s.forwardRef((e,a)=>(0,n.jsx)(t.WV.label,{...e,ref:a,onMouseDown:a=>{a.target.closest("button, input, select, textarea")||(e.onMouseDown?.(a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));i.displayName="Label";var o=i},22032:(e,a,r)=>{"use strict";r.d(a,{Z:()=>s});let s=(0,r(9664).Z)("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]])},46721:(e,a,r)=>{"use strict";r.d(a,{Z:()=>s});let s=(0,r(9664).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},88802:(e,a,r)=>{"use strict";r.d(a,{Z:()=>s});let s=(0,r(9664).Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])},26971:(e,a,r)=>{"use strict";r.d(a,{Z:()=>s});let s=(0,r(9664).Z)("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]])},36118:(e,a,r)=>{"use strict";r.d(a,{Z:()=>s});let s=(0,r(9664).Z)("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]])}};var a=require("../../../../../webpack-runtime.js");a.C(e);var r=e=>a(a.s=e),s=a.X(0,[8948,7925,2535,434,1458,1245,7389,4020,5269,7154,3799,9788],()=>r(14781));module.exports=s})();