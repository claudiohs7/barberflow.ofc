(()=>{var e={};e.id=5728,e.ids=[5728],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},55315:e=>{"use strict";e.exports=require("path")},17360:e=>{"use strict";e.exports=require("url")},91685:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>l}),t(98129),t(40471),t(84332),t(35866),t(98128);var a=t(23191),s=t(88716),i=t(37922),n=t.n(i),o=t(95231),d={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>o[e]);t.d(r,d);let l=["",{children:["(superadmin)",{children:["super-admin",{children:["dashboard",{children:["tickets",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,98129)),"/var/www/barberflow/src/app/(superadmin)/super-admin/dashboard/tickets/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,40471)),"/var/www/barberflow/src/app/(superadmin)/super-admin/dashboard/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,84332)),"/var/www/barberflow/src/app/(superadmin)/super-admin/layout.tsx"]}]},{"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,2304))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,98128)),"/var/www/barberflow/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,2304))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/var/www/barberflow/src/app/(superadmin)/super-admin/dashboard/tickets/page.tsx"],u="/(superadmin)/super-admin/dashboard/tickets/page",p={require:t,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/(superadmin)/super-admin/dashboard/tickets/page",pathname:"/super-admin/dashboard/tickets",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},2541:(e,r,t)=>{Promise.resolve().then(t.bind(t,32054))},19609:(e,r,t)=>{Promise.resolve().then(t.bind(t,3710))},32054:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>w});var a=t(10326),s=t(90434),i=t(35047),n=t(18699),o=t(11696),d=t(22032),l=t(26971),c=t(36118),u=t(83376);let p=(0,t(9664).Z)("Webhook",[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]]);var m=t(88802),h=t(74690),x=t(84097);function f(){let e=(0,i.usePathname)(),{signOut:r}=(0,h.a)(),t=(0,i.useRouter)(),{toast:f}=(0,x.pm)(),b=[{href:"/super-admin/dashboard",label:"Dashboard",icon:d.Z},{href:"/super-admin/dashboard/barbershops",label:"Barbearias",icon:l.Z},{href:"/super-admin/dashboard/tickets",label:"Tickets",icon:c.Z},{href:"/super-admin/dashboard/announcements",label:"Avisos",icon:u.Z},{href:"/super-admin/dashboard/integrations",label:"Integra\xe7\xf5es",icon:p}];return(0,a.jsxs)(n.Sidebar,{children:[a.jsx(n.SidebarHeader,{children:(0,a.jsxs)(s.default,{href:"/super-admin/dashboard",className:"flex items-center gap-2",children:[a.jsx(o.T,{className:"h-7 w-7 text-primary"}),a.jsx("span",{className:"text-lg font-semibold font-headline",children:"Super Admin"})]})}),a.jsx(n.SidebarContent,{children:a.jsx(n.SidebarMenu,{children:b.map(r=>a.jsx(n.SidebarMenuItem,{children:a.jsx(n.SidebarMenuButton,{asChild:!0,isActive:e===r.href,tooltip:{children:r.label},children:a.jsx(s.default,{href:r.href,className:"flex justify-between items-center w-full",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[r.icon?a.jsx(r.icon,{}):null,a.jsx("span",{children:r.label})]})})})},r.label))})}),a.jsx(n.SidebarFooter,{children:a.jsx(n.SidebarMenu,{children:a.jsx(n.SidebarMenuItem,{children:(0,a.jsxs)(n.SidebarMenuButton,{onClick:()=>{r().then(()=>{try{localStorage.removeItem("impersonatedBarbershopId")}catch(e){console.warn("Could not access localStorage. Impersonation state may persist.")}f({title:"Logout bem-sucedido!",description:"Voc\xea foi desconectado com seguran\xe7a."}),t.push("/super-admin/login")}).catch(e=>{f({variant:"destructive",title:"Erro ao sair",description:"N\xe3o foi poss\xedvel fazer logout. Tente novamente."})})},children:[a.jsx(m.Z,{}),a.jsx("span",{children:"Sair"})]})})})})]})}var b=t(42138);function v(){return(0,a.jsxs)("header",{className:"sticky top-0 z-30 flex h-14 items-center gap-4 border-b bg-background px-4 sm:static sm:h-auto sm:border-0 sm:bg-transparent sm:px-6 pb-4",children:[a.jsx(n.SidebarTrigger,{}),(0,a.jsxs)("div",{className:"flex items-center gap-2 sm:hidden",children:[a.jsx(o.T,{className:"h-6 w-6 text-primary"}),a.jsx("span",{className:"font-bold",children:"BarberFlow"})]}),a.jsx("div",{className:"relative ml-auto flex-1 md:grow-0"}),a.jsx("div",{className:"flex items-center gap-4 md:ml-auto md:grow-0 mt-4",children:a.jsx(b.UserNav,{})})]})}var g=t(71020),j=t(92514);function w({children:e}){return a.jsx(g.RouteGuard,{children:(0,a.jsxs)(n.SidebarProvider,{children:[a.jsx(f,{}),a.jsx(n.SidebarInset,{children:(0,a.jsxs)(j.o,{children:[a.jsx(v,{}),a.jsx("main",{className:"flex-1 p-4 sm:px-6 sm:py-0",children:e})]})})]})})}},3710:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>E});var a=t(10326),s=t(17577),i=t(29752),n=t(91664),o=t(24118),d=t(55296),l=t(38443),c=t(79611),u=t(37084),p=t(22750),m=t(67478),h=t(31798),x=t(42556),f=t(84097),b=t(90434),v=t(82015),g=t(51223),j=t(74690),w=t(76488),y=t(3594),N=t(23353),k=t(3236),A=t(10708),C=t(41190),S=t(29280);let T=e=>({...e,createdAt:new Date(e.createdAt),updatedAt:new Date(e.updatedAt)}),P=e=>({...e,createdAt:new Date(e.createdAt)});function E(){let{toast:e}=(0,f.pm)(),{user:r,isLoading:t}=(0,j.a)(),[E,M]=(0,s.useState)([]),[R,I]=(0,s.useState)([]),[_,z]=(0,s.useState)([]),[Z,q]=(0,s.useState)(!0),[O,D]=(0,s.useState)(!0),[L,B]=(0,s.useState)(""),[$,V]=(0,s.useState)("desc"),[F,G]=(0,s.useState)(null),[H,W]=(0,s.useState)(""),[J,K]=(0,s.useState)(null),[U,Y]=(0,s.useState)(!1),[Q,X]=(0,s.useState)(!1),ee=(0,s.useRef)(null),er=(0,s.useCallback)(async()=>{q(!0);try{let e=(await (0,w.rd)("/api/tickets")).data.map(T);return M(e),e}catch(r){return console.error("Erro ao carregar tickets:",r),e({variant:"destructive",title:"Erro",description:"N\xe3o foi poss\xedvel carregar os tickets."}),[]}finally{q(!1)}},[e]);(0,s.useCallback)(async()=>{D(!0);try{let e=await (0,w.rd)("/api/barbershops");I(e.data||[])}catch(r){console.error("Erro ao carregar barbearias:",r),e({variant:"destructive",title:"Erro",description:"N\xe3o foi poss\xedvel carregar as barbearias."})}finally{D(!1)}},[e]);let et=(0,s.useCallback)(async r=>{try{let e=(await (0,w.rd)(`/api/tickets/${r}/responses`)).data.map(P);z(e)}catch(r){console.error("Erro ao carregar respostas:",r),e({variant:"destructive",title:"Erro",description:"N\xe3o foi poss\xedvel carregar o hist\xf3rico do ticket."}),z([])}},[e]),ea=(0,s.useMemo)(()=>new Map(R.map(e=>[e.id,e.name])),[R]),es=(0,s.useMemo)(()=>{let e=L.toLowerCase();return E.filter(r=>{if(!L)return!0;let t=r.barbershopId?ea.get(r.barbershopId)??"":"";return r.title?.toLowerCase().includes(e)||r.clientName?.toLowerCase().includes(e)||r.clientEmail?.toLowerCase().includes(e)||r.barbershopId?.toLowerCase().includes(e)||t.toLowerCase().includes(e)})},[L,E,ea]),ei=(0,s.useMemo)(()=>[...es].sort((e,r)=>"desc"===$?r.createdAt.getTime()-e.createdAt.getTime():e.createdAt.getTime()-r.createdAt.getTime()),[es,$]),{openTickets:en,closedTickets:eo}=(0,s.useMemo)(()=>{let e=[],r=[];for(let t of ei)"closed"===t.status?r.push(t):e.push(t);return{openTickets:e,closedTickets:r}},[ei]),ed=(0,s.useMemo)(()=>F?{id:"initial",message:F.description,createdAt:F.createdAt,createdBy:F.createdBy,isAdmin:!1}:null,[F]),el=(0,s.useMemo)(()=>ed?[ed,..._]:[],[ed,_]),ec=(0,s.useCallback)(async e=>{let r=await er();return e&&G(r.find(r=>r.id===e)??null),r},[er]),eu=e=>{G(e),Y(!0)},ep=e=>{K(e),X(!0)},em=async()=>{if(J)try{await (0,w.rd)(`/api/tickets/${J.id}`,{method:"DELETE"}),await ec(),e({title:"Ticket Exclu\xeddo!",description:"O ticket foi removido com sucesso."})}catch(r){console.error("Erro ao excluir ticket:",r),e({variant:"destructive",title:"Erro",description:"N\xe3o foi poss\xedvel excluir o ticket."})}finally{X(!1)}},eh=async()=>{if(F&&r?.id){if(!H.trim()){e({variant:"destructive",title:"Erro",description:"A resposta n\xe3o pode ficar em branco."});return}try{await (0,w.rd)(`/api/tickets/${F.id}/responses`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:H,createdBy:r.id,isAdmin:!0})}),"open"===F.status&&await (0,w.rd)(`/api/tickets/${F.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:"in_progress"})}),await ec(F.id),await et(F.id),W(""),e({title:"Ticket Atualizado!",description:"Sua resposta foi salva."})}catch(r){console.error("Erro ao atualizar ticket:",r),e({variant:"destructive",title:"Erro",description:"N\xe3o foi poss\xedvel atualizar o ticket."})}}},ex=async r=>{try{await (0,w.rd)(`/api/tickets/${r.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:"closed"})}),await ec(r.id),e({title:"Ticket Fechado!",description:"O ticket foi marcado como resolvido."})}catch(r){console.error("Erro ao fechar ticket:",r),e({variant:"destructive",title:"Erro",description:"N\xe3o foi poss\xedvel fechar o ticket."})}},ef=async r=>{try{await (0,w.rd)(`/api/tickets/${r.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:"in_progress"})}),await ec(r.id),e({title:"Ticket Reaberto!",description:"O ticket est\xe1 em andamento."})}catch(r){console.error("Erro ao reabrir ticket:",r),e({variant:"destructive",title:"Erro",description:"N\xe3o foi poss\xedvel reabrir o ticket."})}},eb=e=>{if(!e)return"#";let r=e.replace(/\D/g,"");return`https://wa.me/55${r}`},ev=e=>{let r=R.find(r=>r.id===e.barbershopId),t=r?.name||"N/D",s=r?.phone;return(0,a.jsxs)("div",{className:"border rounded-lg p-3 space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[a.jsx("p",{className:"font-semibold",children:e.title}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:[a.jsx("span",{className:"font-semibold text-primary",children:t})," - ",e.category]})]}),a.jsx(l.C,{variant:"open"===e.status?"default":"outline",className:(0,g.cn)({"bg-green-500/20 text-green-700 border-green-500/30 dark:bg-green-500/10 dark:text-green-400 dark:border-green-500/20":"closed"===e.status,"bg-amber-500/20 text-amber-700 border-amber-500/30 dark:bg-amber-500/10 dark:text-amber-400 dark:border-amber-500/20":"in_progress"===e.status}),children:"open"===e.status?"Aberto":"closed"===e.status?"Fechado":"Em Andamento"})]}),a.jsx("p",{className:"text-sm text-muted-foreground pt-1 whitespace-pre-wrap",children:e.description}),(0,a.jsxs)("div",{className:"flex justify-between items-center border-t pt-2 gap-4",children:[a.jsx("p",{className:"text-xs text-muted-foreground",children:e.createdAt.toLocaleDateString("pt-BR")}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(n.z,{size:"sm",variant:"outline",className:"h-8",onClick:()=>eu(e),children:[a.jsx(c.Z,{className:"mr-2 h-4 w-4"}),"Abrir e Responder"]}),a.jsx(n.z,{size:"sm",variant:"outline",className:"h-8 bg-green-500 hover:bg-green-600 border-green-500 text-white",asChild:!0,children:a.jsx(b.default,{href:eb(s||""),target:"_blank",children:a.jsx(N.y,{className:"h-4 w-4"})})}),"closed"!==e.status&&a.jsx(n.z,{size:"sm",variant:"destructive",className:"h-8",onClick:()=>ex(e),children:"Fechar Ticket"}),a.jsx(n.z,{size:"icon",variant:"ghost",className:"h-8 w-8 text-destructive",onClick:()=>ep(e),children:a.jsx(u.Z,{className:"h-4 w-4"})})]})]})]},e.id)};return t||Z||O?a.jsx("div",{className:"p-8",children:"Carregando tickets..."}):(0,a.jsxs)("div",{className:"flex-1 space-y-6 p-4 md:p-8 pt-6",children:[(0,a.jsxs)(i.Zb,{children:[(0,a.jsxs)(i.Ol,{children:[a.jsx(i.ll,{children:"Tickets em Aberto"}),a.jsx(i.SZ,{children:"Gerencie as solicita\xe7\xf5es de suporte que precisam de aten\xe7\xe3o."}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 pt-4",children:[(0,a.jsxs)("div",{className:"relative flex-grow",children:[a.jsx(p.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a.jsx(C.I,{placeholder:"Buscar por t\xedtulo, nome, email, ID da barbearia...",className:"pl-10",value:L,onChange:e=>B(e.target.value)})]}),(0,a.jsxs)(S.Ph,{value:$,onValueChange:e=>V(e),children:[a.jsx(S.i4,{className:"w-full sm:w-[180px]",children:a.jsx(S.ki,{placeholder:"Ordenar por..."})}),(0,a.jsxs)(S.Bw,{children:[a.jsx(S.Ql,{value:"desc",children:"Mais Recentes"}),a.jsx(S.Ql,{value:"asc",children:"Mais Antigos"})]})]})]})]}),a.jsx(i.aY,{className:"space-y-3",children:en.length>0?en.map(ev):a.jsx("div",{className:"text-center text-muted-foreground py-8",children:L?`Nenhum ticket aberto encontrado para "${L}".`:"Nenhum ticket de suporte aberto."})})]}),a.jsx(A.Accordion,{type:"single",collapsible:!0,className:"w-full",children:(0,a.jsxs)(A.AccordionItem,{value:"item-1",children:[a.jsx(A.AccordionTrigger,{children:(0,a.jsxs)("h3",{className:"text-lg font-semibold",children:["Hist\xf3rico de Tickets (",eo.length,")"]})}),a.jsx(A.AccordionContent,{children:(0,a.jsxs)(i.Zb,{children:[(0,a.jsxs)(i.Ol,{children:[a.jsx(i.ll,{children:"Tickets Fechados"}),a.jsx(i.SZ,{children:"Consulte o hist\xf3rico de solicita\xe7\xf5es j\xe1 resolvidas."})]}),a.jsx(i.aY,{className:"space-y-3",children:eo.length>0?eo.map(ev):a.jsx("div",{className:"text-center text-muted-foreground py-8",children:L?`Nenhum ticket fechado encontrado para "${L}".`:"Nenhum ticket fechado ainda."})})]})})]})}),a.jsx(o.Vq,{open:U,onOpenChange:Y,className:"overflow-visible",children:(0,a.jsxs)(o.cZ,{className:"sm:max-w-xl h-[80vh] flex flex-col",children:[(0,a.jsxs)(o.fK,{children:[a.jsx(o.$N,{children:F?.title}),(0,a.jsxs)("div",{className:"flex items-center justify-between pt-1",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"font-medium text-sm",children:R.find(e=>e.id===F?.barbershopId)?.name}),a.jsx("p",{className:"text-xs text-muted-foreground",children:F?.clientEmail})]}),a.jsx(n.z,{size:"sm",variant:"outline",asChild:!0,children:(0,a.jsxs)(b.default,{href:eb(R.find(e=>e.id===F?.barbershopId)?.phone||""),target:"_blank",children:[a.jsx(N.y,{className:"mr-2 h-4 w-4"}),"Contato"]})})]})]}),a.jsx(k.x,{className:"flex-1 -mx-6 px-6",ref:ee,children:a.jsx("div",{className:"py-4 space-y-4",children:el.map((e,r)=>(0,a.jsxs)("div",{className:(0,g.cn)("flex items-end gap-2",e.isAdmin?"justify-start":"justify-end"),children:[e.isAdmin&&a.jsx(y.Avatar,{className:"h-8 w-8",children:a.jsx(y.AvatarFallback,{children:"S"})}),(0,a.jsxs)("div",{className:(0,g.cn)("max-w-xs rounded-lg p-3 text-sm",e.isAdmin?"bg-slate-700":"bg-primary text-primary-foreground"),children:[a.jsx("p",{className:"whitespace-pre-wrap",children:e.message}),a.jsx("p",{className:"text-xs mt-2 text-right opacity-70",children:e.createdAt instanceof Date?e.createdAt.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):new Date(e.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]},`${e.id}-${r}`))})}),a.jsx(o.cN,{className:"mt-auto border-t pt-4 flex-col gap-4",children:F?.status==="closed"?(0,a.jsxs)("div",{className:"flex w-full items-center justify-center gap-2 p-3 rounded-md bg-muted text-muted-foreground text-sm",children:[a.jsx(m.Z,{className:"h-4 w-4"}),a.jsx("span",{children:"Este ticket est\xe1 fechado."}),(0,a.jsxs)(n.z,{size:"sm",onClick:()=>ef(F),children:[a.jsx(h.Z,{className:"mr-2 h-4 w-4"}),"Reabrir Ticket"]})]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx(v.g,{placeholder:"Digite sua resposta aqui...",value:H,onChange:e=>W(e.target.value),className:"min-h-0 resize-none",rows:2}),a.jsx("div",{className:"flex justify-end items-center w-full",children:(0,a.jsxs)("div",{className:"flex gap-2",children:[a.jsx(o.GG,{asChild:!0,children:a.jsx(n.z,{variant:"outline",children:"Cancelar"})}),(0,a.jsxs)(n.z,{onClick:eh,children:[a.jsx(x.Z,{className:"mr-2 h-4 w-4"}),"Enviar e Atualizar"]})]})})]})})]})}),a.jsx(d.aR,{open:Q,onOpenChange:X,children:(0,a.jsxs)(d._T,{children:[(0,a.jsxs)(d.fY,{children:[a.jsx(d.f$,{children:"Excluir Ticket"}),(0,a.jsxs)(d.yT,{children:['Voc\xea tem certeza que deseja excluir o ticket "',J?.title,'"? Esta a\xe7\xe3o n\xe3o pode ser desfeita.']})]}),(0,a.jsxs)(d.xo,{children:[a.jsx(d.le,{children:"Cancelar"}),a.jsx(d.OL,{onClick:em,className:"bg-destructive hover:bg-destructive/90",children:"Excluir"})]})]})})]})}},23353:(e,r,t)=>{"use strict";t.d(r,{y:()=>s});var a=t(10326);function s(e){return a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 16 16",fill:"currentColor",...e,children:a.jsx("path",{d:"M13.601 2.326A7.85 7.85 0 0 0 7.994 0C3.627 0 .068 3.558.064 7.926c0 1.399.366 2.76 1.057 3.965L0 16l4.204-1.102a7.9 7.9 0 0 0 3.79.965h.004c4.368 0 7.926-3.558 7.93-7.93A7.89 7.89 0 0 0 13.6 2.326zM7.994 14.521a6.57 6.57 0 0 1-3.356-.92l-.24-.144-2.494.654.666-2.433-.156-.251a6.56 6.56 0 0 1-1.007-3.505c0-3.626 2.957-6.584 6.591-6.584a6.56 6.56 0 0 1 4.66 1.931 6.56 6.56 0 0 1 1.928 4.66c-.004 3.639-2.961 6.592-6.592 6.592m3.615-4.934c-.197-.099-1.17-.578-1.353-.646-.182-.065-.315-.099-.445.099-.133.197-.513.646-.627.775-.114.133-.232.148-.43.05-.197-.1-.836-.308-1.592-.985-.59-.525-.985-1.175-1.103-1.372-.114-.198-.011-.304.088-.403.087-.088.197-.232.296-.346.1-.114.133-.198.198-.33.065-.134.034-.248-.015-.347-.05-.1-.445-1.076-.612-1.47-.16-.389-.323-.335-.445-.34-.114-.007-.247-.007-.38-.007a.73.73 0 0 0-.529.247c-.182.198-.691.677-.691 1.654s.71 1.916.81 2.049c.098.133 1.394 2.132 3.383 2.992.47.205.84.326 1.129.418.475.152.904.129 1.246.08.38-.058 1.171-.48 1.338-.943.164-.464.164-.86.114-.943-.049-.084-.182-.133-.38-.232"})})}},10708:(e,r,t)=>{"use strict";t.d(r,{Accordion:()=>es,AccordionContent:()=>eo,AccordionItem:()=>ei,AccordionTrigger:()=>en});var a=t(10326),s=t(17577),i=t(93095),n=t(73866),o=t(48051),d=t(82561),l=t(52067),c=t(77335),u=t(65819),p=t(9815),m=t(88957),h="Collapsible",[x,f]=(0,i.b)(h),[b,v]=x(h),g=s.forwardRef((e,r)=>{let{__scopeCollapsible:t,open:i,defaultOpen:n,disabled:o,onOpenChange:d,...u}=e,[p=!1,h]=(0,l.T)({prop:i,defaultProp:n,onChange:d});return(0,a.jsx)(b,{scope:t,disabled:o,contentId:(0,m.M)(),open:p,onOpenToggle:s.useCallback(()=>h(e=>!e),[h]),children:(0,a.jsx)(c.WV.div,{"data-state":A(p),"data-disabled":o?"":void 0,...u,ref:r})})});g.displayName=h;var j="CollapsibleTrigger",w=s.forwardRef((e,r)=>{let{__scopeCollapsible:t,...s}=e,i=v(j,t);return(0,a.jsx)(c.WV.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":A(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...s,ref:r,onClick:(0,d.M)(e.onClick,i.onOpenToggle)})});w.displayName=j;var y="CollapsibleContent",N=s.forwardRef((e,r)=>{let{forceMount:t,...s}=e,i=v(y,e.__scopeCollapsible);return(0,a.jsx)(p.z,{present:t||i.open,children:({present:e})=>(0,a.jsx)(k,{...s,ref:r,present:e})})});N.displayName=y;var k=s.forwardRef((e,r)=>{let{__scopeCollapsible:t,present:i,children:n,...d}=e,l=v(y,t),[p,m]=s.useState(i),h=s.useRef(null),x=(0,o.e)(r,h),f=s.useRef(0),b=f.current,g=s.useRef(0),j=g.current,w=l.open||p,N=s.useRef(w),k=s.useRef(void 0);return s.useEffect(()=>{let e=requestAnimationFrame(()=>N.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,u.b)(()=>{let e=h.current;if(e){k.current=k.current||{transitionDuration:e.style.transitionDuration,animationName:e.style.animationName},e.style.transitionDuration="0s",e.style.animationName="none";let r=e.getBoundingClientRect();f.current=r.height,g.current=r.width,N.current||(e.style.transitionDuration=k.current.transitionDuration,e.style.animationName=k.current.animationName),m(i)}},[l.open,i]),(0,a.jsx)(c.WV.div,{"data-state":A(l.open),"data-disabled":l.disabled?"":void 0,id:l.contentId,hidden:!w,...d,ref:x,style:{"--radix-collapsible-content-height":b?`${b}px`:void 0,"--radix-collapsible-content-width":j?`${j}px`:void 0,...e.style},children:w&&n})});function A(e){return e?"open":"closed"}var C=t(17124),S="Accordion",T=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[P,E,M]=(0,n.B)(S),[R,I]=(0,i.b)(S,[M,f]),_=f(),z=s.forwardRef((e,r)=>{let{type:t,...s}=e;return(0,a.jsx)(P.Provider,{scope:e.__scopeAccordion,children:"multiple"===t?(0,a.jsx)(B,{...s,ref:r}):(0,a.jsx)(L,{...s,ref:r})})});z.displayName=S;var[Z,q]=R(S),[O,D]=R(S,{collapsible:!1}),L=s.forwardRef((e,r)=>{let{value:t,defaultValue:i,onValueChange:n=()=>{},collapsible:o=!1,...d}=e,[c,u]=(0,l.T)({prop:t,defaultProp:i,onChange:n});return(0,a.jsx)(Z,{scope:e.__scopeAccordion,value:c?[c]:[],onItemOpen:u,onItemClose:s.useCallback(()=>o&&u(""),[o,u]),children:(0,a.jsx)(O,{scope:e.__scopeAccordion,collapsible:o,children:(0,a.jsx)(F,{...d,ref:r})})})}),B=s.forwardRef((e,r)=>{let{value:t,defaultValue:i,onValueChange:n=()=>{},...o}=e,[d=[],c]=(0,l.T)({prop:t,defaultProp:i,onChange:n}),u=s.useCallback(e=>c((r=[])=>[...r,e]),[c]),p=s.useCallback(e=>c((r=[])=>r.filter(r=>r!==e)),[c]);return(0,a.jsx)(Z,{scope:e.__scopeAccordion,value:d,onItemOpen:u,onItemClose:p,children:(0,a.jsx)(O,{scope:e.__scopeAccordion,collapsible:!0,children:(0,a.jsx)(F,{...o,ref:r})})})}),[$,V]=R(S),F=s.forwardRef((e,r)=>{let{__scopeAccordion:t,disabled:i,dir:n,orientation:l="vertical",...u}=e,p=s.useRef(null),m=(0,o.e)(p,r),h=E(t),x="ltr"===(0,C.gm)(n),f=(0,d.M)(e.onKeyDown,e=>{if(!T.includes(e.key))return;let r=e.target,t=h().filter(e=>!e.ref.current?.disabled),a=t.findIndex(e=>e.ref.current===r),s=t.length;if(-1===a)return;e.preventDefault();let i=a,n=s-1,o=()=>{(i=a+1)>n&&(i=0)},d=()=>{(i=a-1)<0&&(i=n)};switch(e.key){case"Home":i=0;break;case"End":i=n;break;case"ArrowRight":"horizontal"===l&&(x?o():d());break;case"ArrowDown":"vertical"===l&&o();break;case"ArrowLeft":"horizontal"===l&&(x?d():o());break;case"ArrowUp":"vertical"===l&&d()}let c=i%s;t[c].ref.current?.focus()});return(0,a.jsx)($,{scope:t,disabled:i,direction:n,orientation:l,children:(0,a.jsx)(P.Slot,{scope:t,children:(0,a.jsx)(c.WV.div,{...u,"data-orientation":l,ref:m,onKeyDown:i?void 0:f})})})}),G="AccordionItem",[H,W]=R(G),J=s.forwardRef((e,r)=>{let{__scopeAccordion:t,value:s,...i}=e,n=V(G,t),o=q(G,t),d=_(t),l=(0,m.M)(),c=s&&o.value.includes(s)||!1,u=n.disabled||e.disabled;return(0,a.jsx)(H,{scope:t,open:c,disabled:u,triggerId:l,children:(0,a.jsx)(g,{"data-orientation":n.orientation,"data-state":er(c),...d,...i,ref:r,disabled:u,open:c,onOpenChange:e=>{e?o.onItemOpen(s):o.onItemClose(s)}})})});J.displayName=G;var K="AccordionHeader",U=s.forwardRef((e,r)=>{let{__scopeAccordion:t,...s}=e,i=V(S,t),n=W(K,t);return(0,a.jsx)(c.WV.h3,{"data-orientation":i.orientation,"data-state":er(n.open),"data-disabled":n.disabled?"":void 0,...s,ref:r})});U.displayName=K;var Y="AccordionTrigger",Q=s.forwardRef((e,r)=>{let{__scopeAccordion:t,...s}=e,i=V(S,t),n=W(Y,t),o=D(Y,t),d=_(t);return(0,a.jsx)(P.ItemSlot,{scope:t,children:(0,a.jsx)(w,{"aria-disabled":n.open&&!o.collapsible||void 0,"data-orientation":i.orientation,id:n.triggerId,...d,...s,ref:r})})});Q.displayName=Y;var X="AccordionContent",ee=s.forwardRef((e,r)=>{let{__scopeAccordion:t,...s}=e,i=V(S,t),n=W(X,t),o=_(t);return(0,a.jsx)(N,{role:"region","aria-labelledby":n.triggerId,"data-orientation":i.orientation,...o,...s,ref:r,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});function er(e){return e?"open":"closed"}ee.displayName=X;var et=t(14711),ea=t(51223);let es=z,ei=s.forwardRef(({className:e,...r},t)=>a.jsx(J,{ref:t,className:(0,ea.cn)("border-b",e),...r}));ei.displayName="AccordionItem";let en=s.forwardRef(({className:e,children:r,...t},s)=>a.jsx(U,{className:"flex",children:(0,a.jsxs)(Q,{ref:s,className:(0,ea.cn)("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...t,children:[r,a.jsx(et.Z,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));en.displayName=Q.displayName;let eo=s.forwardRef(({className:e,children:r,...t},s)=>a.jsx(ee,{ref:s,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...t,children:a.jsx("div",{className:(0,ea.cn)("pb-4 pt-0",e),children:r})}));eo.displayName=ee.displayName},38443:(e,r,t)=>{"use strict";t.d(r,{C:()=>o});var a=t(10326);t(17577);var s=t(79360),i=t(51223);let n=(0,s.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function o({className:e,variant:r,...t}){return a.jsx("div",{className:(0,i.cn)(n({variant:r}),e),...t})}},92514:(e,r,t)=>{"use strict";t.d(r,{l:()=>d,o:()=>o});var a=t(10326),s=t(17577),i=t(64676);let n=(0,s.createContext)(void 0);function o({children:e}){let[r,t]=(0,s.useState)(i.pe);return a.jsx(n.Provider,{value:{messageTemplates:r,setMessageTemplates:t},children:e})}function d(){let e=(0,s.useContext)(n);if(void 0===e)throw Error("useMessageTemplates must be used within a MessageTemplatesProvider");return e}},64676:(e,r,t)=>{"use strict";t.d(r,{pe:()=>a}),new Date().getTime();let a=[{id:"tmpl1",name:"Lembrete Padr\xe3o",type:"Lembrete de Agendamento",content:"Ol\xe1, {cliente}!\nPassando para lembrar do seu hor\xe1rio amanh\xe3 \xe0s {horario} com {barbeiro}.\nAt\xe9 l\xe1!\nEquipe {barbearia}.",enabled:!0,reminderHoursBefore:24},{id:"tmpl2",name:"Confirma\xe7\xe3o Padr\xe3o",type:"Confirma\xe7\xe3o de Agendamento",content:"Ol\xe1, {cliente}!\nSeu agendamento para {servico} no dia {data} \xe0s {horario} foi confirmado.\nEquipe {barbearia}.",enabled:!0},{id:"tmpl4",name:"Confirma\xe7\xe3o Manual",type:"Confirma\xe7\xe3o Manual",content:"Ol\xe1, {cliente}!\nPassando para confirmar seu agendamento para {servico} no dia {data} \xe0s {horario} com {barbeiro}.\nPor favor, responda 'SIM' para confirmar.\nEquipe {barbearia}.",enabled:!0},{id:"tmpl3",name:"Pesquisa Padr\xe3o",type:"Pesquisa de Satisfa\xe7\xe3o",content:"Ol\xe1, {cliente}!\nAgradecemos a sua visita.\nO que voc\xea achou do nosso servi\xe7o?\nResponda de 0 a 10.\nEquipe {barbearia}.",enabled:!1}]},40471:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>a});let a=(0,t(68570).createProxy)(String.raw`/var/www/barberflow/src/app/(superadmin)/super-admin/dashboard/layout.tsx#default`)},98129:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>a});let a=(0,t(68570).createProxy)(String.raw`/var/www/barberflow/src/app/(superadmin)/super-admin/dashboard/tickets/page.tsx#default`)},84332:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});var a=t(19510);function s({children:e}){return a.jsx("div",{className:"min-h-screen w-full flex flex-col bg-background",children:e})}},67478:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});let a=(0,t(9664).Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},22750:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});let a=(0,t(9664).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},26971:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});let a=(0,t(9664).Z)("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]])},36118:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});let a=(0,t(9664).Z)("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]])}};var r=require("../../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[8948,7925,2535,434,1458,1245,7389,4020,5269,2309,6999,7154,3799,9788,6257],()=>t(91685));module.exports=a})();