(()=>{var e={};e.id=8616,e.ids=[8616],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},55315:e=>{"use strict";e.exports=require("path")},17360:e=>{"use strict";e.exports=require("url")},35688:(e,a,s)=>{"use strict";s.r(a),s.d(a,{GlobalError:()=>i.a,__next_app__:()=>h,originalPathname:()=>p,pages:()=>c,routeModule:()=>m,tree:()=>o}),s(2822),s(44898),s(61930),s(6989),s(35866),s(98128);var r=s(23191),t=s(88716),l=s(37922),i=s.n(l),n=s(95231),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);s.d(a,d);let o=["",{children:["(dashboard)",{children:["admin",{children:["dashboard",{children:["settings",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,2822)),"/var/www/barberflow/src/app/(dashboard)/admin/dashboard/settings/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,44898)),"/var/www/barberflow/src/app/(dashboard)/admin/dashboard/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,61930)),"/var/www/barberflow/src/app/(dashboard)/admin/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,6989)),"/var/www/barberflow/src/app/(dashboard)/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,2304))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,98128)),"/var/www/barberflow/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,2304))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/var/www/barberflow/src/app/(dashboard)/admin/dashboard/settings/page.tsx"],p="/(dashboard)/admin/dashboard/settings/page",h={require:s,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:t.x.APP_PAGE,page:"/(dashboard)/admin/dashboard/settings/page",pathname:"/admin/dashboard/settings",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},20149:(e,a,s)=>{Promise.resolve().then(s.bind(s,14848))},14848:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>D});var r=s(10326),t=s(17577),l=s(91664),i=s(29752),n=s(41190),d=s(44794),o=s(87542),c=s(84097),p=s(24118);let h=(0,s(9664).Z)("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);var m=s(41547),u=s(96451),g=s(9489),x=s(67478),v=s(11698),f=s(77422),b=s(46721),j=s(74690),y=s(76488),N=s(81599),w=s(51223),C=s(3594),S=s(38443);let $=["Domingo","Segunda-feira","Ter\xe7a-feira","Quarta-feira","Quinta-feira","Sexta-feira","S\xe1bado"],P="08:00",k="18:00",z=e=>{let a=e.replace(/\D/g,"");return a.length<=11?a.replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d{1,2})$/,"$1-$2"):a.substring(0,14).replace(/^(\d{2})(\d)/,"$1.$2").replace(/^(\d{2})\.(\d{3})(\d)/,"$1.$2.$3").replace(/\.(\d{3})(\d)/,".$1/$2").replace(/(\d{4})(\d)/,"$1-$2")},_=e=>e.replace(/\D/g,""),F=e=>/^(\d)\1+$/.test(e),I=e=>{let a=_(e);if(11!==a.length||F(a))return!1;let s=e=>{let s=10*a.slice(0,e).split("").reduce((a,s,r)=>a+parseInt(s,10)*(e+1-r),0)%11;return 10===s?0:s},r=s(9),t=s(10);return r===parseInt(a[9],10)&&t===parseInt(a[10],10)},Z=e=>{let a=_(e);if(14!==a.length||F(a))return!1;let s=e=>{let s=12===e?[5,4,3,2,9,8,7,6,5,4,3,2]:[6,5,4,3,2,9,8,7,6,5,4,3,2],r=a.slice(0,e).split("").reduce((e,a,r)=>e+parseInt(a,10)*s[r],0)%11;return r<2?0:11-r},r=s(12),t=s(13);return r===parseInt(a[12],10)&&t===parseInt(a[13],10)},E=e=>{let a=_(e);return a?11===a.length?{valid:I(a),type:"CPF"}:14===a.length?{valid:Z(a),type:"CNPJ"}:{valid:!1,type:null}:{valid:!1,type:null}},M=e=>e?.toLowerCase().normalize("NFD").replace(/\p{Diacritic}/gu,"")||"",A=$.reduce((e,a)=>(e[a]={active:!1,open:P,close:k},e),{});function D(){let{toast:e}=(0,c.pm)(),{user:a,refreshUser:s}=(0,j.a)(),{barbershopId:_,isLoading:F}=(0,N.Y)(),[I,Z]=(0,t.useState)(null),[D,q]=(0,t.useState)(!0),[O,J]=(0,t.useState)(!1);a?.email;let[L,U]=(0,t.useState)(!1),[H,R]=(0,t.useState)(!1),[T,G]=(0,t.useState)(!1),[B,V]=(0,t.useState)(!1),[W,Y]=(0,t.useState)(null),[Q,K]=(0,t.useState)(1),[X,ee]=(0,t.useState)(null),[ea,es]=(0,t.useState)({}),[er,et]=(0,t.useState)(null),[el,ei]=(0,t.useState)(null),[en,ed]=(0,t.useState)(A),[eo,ec]=(0,t.useState)(""),[ep,eh]=(0,t.useState)(""),[em,eu]=(0,t.useState)(""),[eg,ex]=(0,t.useState)(""),[ev,ef]=(0,t.useState)(!1),[eb,ej]=(0,t.useState)(!1),[ey,eN]=(0,t.useState)(!1),ew=e=>{let a=e?.message||e?.toString?.()||"";try{let e=JSON.parse(a);if(e?.error)return String(e.error)}catch{}return a||"N\xe3o foi poss\xedvel atualizar a barbearia."},eC=(0,t.useCallback)(async()=>{if(!_)return Z(null),q(!1),null;q(!0);try{let e=(await (0,y.rd)(`/api/barbershops/${encodeURIComponent(_)}`)).data??null;return Z(e),e}catch(a){return e({variant:"destructive",title:"Erro ao carregar barbearia",description:a.message||"Erro ao carregar os dados da barbearia."}),null}finally{q(!1)}},[_,e]),eS=e=>{if(I){if(es({...I,cpfCnpj:I.cpfCnpj?z(I.cpfCnpj):I.cpfCnpj}),et(I.logoUrl||null),ed($.reduce((e,a)=>{let s=I.operatingHours?.find(e=>M(e.day)===M(a)),r=s?.open&&"closed"!==s.open?s.open:P,t=s?.close&&"closed"!==s.close?s.close:k;return e[a]={active:!!s&&"closed"!==s.open,open:r,close:t},e},{})),a?.email&&ec(a.email),"info"===e){let{valid:e,type:a}=E(I.cpfCnpj||"");ei(e||!I.cpfCnpj?null:a?`${a} inv\xe1lido`:"CPF/CNPJ inv\xe1lido"),U(!0)}else"address"===e?R(!0):"security"===e&&G(!0)}};ea.address?.cep;let e$=(0,t.useCallback)((e,a)=>{es(s=>({...s,[e]:a}))},[]);ea.cpfCnpj;let eP=(0,t.useCallback)(async e=>{if(L&&14===e.length)try{let a=await fetch(`/api/cnpj/${e}`),s=await a.json();s.error||es(e=>({...e,legalName:s.razao_social||e.legalName,name:s.nome_fantasia||e.name}))}catch(e){console.error("Failed to fetch CNPJ data:",e)}},[L]),ek=()=>{V(!1),Y(null),K(1),ee(null)},ez=async()=>{if(!W||!X){ek();return}let e=new Image;e.src=W,await new Promise(a=>{e.onload=a});let a=document.createElement("canvas");a.width=400,a.height=400;let s=a.getContext("2d");if(!s){ek();return}let{w:r,h:t}=X,l=Math.min(r,t)/Q,i=(r-l)/2,n=(t-l)/2;s.drawImage(e,i,n,l,l,0,0,400,400);let d=a.toDataURL("image/png");et(d),e$("logoUrl",d),ek()},e_=(0,t.useCallback)(async a=>{if(!_){e({variant:"destructive",title:"Erro",description:"Usuario nao autenticado."});return}let s=e=>!!e&&/^\d{2}:\d{2}$/.test(e),r=$.find(e=>{let r=a[e];return r?.active&&(!s(r.open)||!s(r.close))});if(r){e({variant:"destructive",title:"Coloque o horario de funcionamento para salvar",description:`Preencha abertura e fechamento em ${r}.`});return}let t=$.map(e=>{let s=a[e];return{day:e,open:s?.active?s.open:"closed",close:s?.active?s.close:"closed"}});try{await (0,y.rd)(`/api/barbershops/${_}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({operatingHours:t})});let e=I?{...I,operatingHours:t}:null;if(e){Z(e);try{window.dispatchEvent(new CustomEvent("barbershop-updated",{detail:e})),localStorage.setItem("barbershop-updated",JSON.stringify({...e,_ts:Date.now()}))}catch(e){console.warn("Nao foi possivel propagar atualizacao da barbearia:",e)}}}catch(a){e({variant:"destructive",title:"Erro ao salvar configuracoes",description:a.message||"Nao foi possivel atualizar a barbearia."})}},[_,e,I]),eF=(0,t.useCallback)((e,a)=>{ed(s=>{let r=s[e]||{active:!1,open:P,close:k},t={...s,[e]:{...r,...a}};return e_(t),t})},[e_]),eI=async a=>{if(!_){e({variant:"destructive",title:"Erro",description:"Usuario nao autenticado."});return}let s={};if("info"===a){let{valid:a,type:r}=E(ea.cpfCnpj||"");if(!a){ei(r?`${r} inv\xe1lido`:"CPF/CNPJ inv\xe1lido"),e({variant:"destructive",title:"Documento inv\xe1lido",description:"Informe um CPF ou CNPJ v\xe1lido para salvar."});return}s={name:ea.name,legalName:ea.legalName,phone:ea.phone,cpfCnpj:ea.cpfCnpj};let t=er??I?.logoUrl;t&&(s.logoUrl=t)}else if("address"===a){let a=ea.address||{},r=(a.cep||"").replace(/\D/g,""),t=a.street?.toString().trim()||"",l=a.number?.toString().trim()||"",i=a.neighborhood?.toString().trim()||"",n=a.city?.toString().trim()||"",d=a.state?.toString().trim()||"";if(!r||8!==r.length||!t||!l||!i||!n||!d){e({variant:"destructive",title:"Erro",description:"Preencha CEP, rua, n\xfamero, bairro, cidade e estado."});return}s={address:{...a,cep:r.replace(/^(\d{5})(\d{3})$/,"$1-$2"),street:t,number:l,neighborhood:i,city:n,state:d}}}try{await (0,y.rd)(`/api/barbershops/${_}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}),e({title:"Configuracoes salvas!",description:"As informacoes da sua barbearia foram atualizadas."});let r=await eC();if(r)try{window.dispatchEvent(new CustomEvent("barbershop-updated",{detail:r})),localStorage.setItem("barbershop-updated",JSON.stringify({...r,_ts:Date.now()}))}catch(e){console.warn("Nao foi possivel propagar atualizacao da barbearia:",e)}es({}),"info"===a?(U(!1),et(null),ei(null)):"address"===a&&R(!1)}catch(a){e({variant:"destructive",title:"Erro ao salvar configuracoes",description:ew(a)})}},eZ=async()=>{if(!a||!_){e({variant:"destructive",title:"Erro",description:"Voc\xea n\xe3o est\xe1 logado."});return}let r=""!==em;if(!r){e({title:"Nenhuma altera\xe7\xe3o",description:"Nenhuma altera\xe7\xe3o de senha foi detectada."}),G(!1);return}if(r&&em!==eg){e({variant:"destructive",title:"Senhas n\xe3o coincidem",description:"A nova senha e a confirma\xe7\xe3o n\xe3o s\xe3o iguais."});return}if(!ep){e({variant:"destructive",title:"Senha necess\xe1ria",description:"Voc\xea deve fornecer sua senha atual para fazer altera\xe7\xf5es."});return}J(!0);try{let a={currentPassword:ep};r&&(a.newPassword=em);let t=await (0,y.rd)("/api/auth/update-profile",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});(0,y.M8)(t.data.accessToken),await s(),e({title:"Seguran\xe7a atualizada!",description:"Suas credenciais foram sincronizadas."}),G(!1),eh(""),eu(""),ex("")}catch(a){e({variant:"destructive",title:"Falha na atualiza\xe7\xe3o de seguran\xe7a",description:a.message||"N\xe3o foi poss\xedvel atualizar seus dados de seguran\xe7a."})}finally{J(!1)}},eE=e=>{"info"===e?(U(!1),ei(null)):"address"===e?R(!1):"security"===e&&(G(!1),a?.email&&ec(a.email),eh(""),eu(""),ex("")),es({})},eM=e=>{let{name:a,value:s}=e.target,r=s;if("phone"===a){let e=s.replace(/\D/g,"");(e=(e=e.replace(/^(\d{2})(\d)/g,"($1) $2")).replace(/(\d{5})(\d)/,"$1-$2")).length>15&&(e=e.substring(0,15)),r=e}else if("cpfCnpj"===a){let e=s.replace(/\D/g,""),a=e;a=a.length<=11?a.replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d{1,2})$/,"$1-$2"):a.substring(0,14).replace(/^(\d{2})(\d)/,"$1.$2").replace(/^(\d{2})\.(\d{3})(\d)/,"$1.$2.$3").replace(/\.(\d{3})(\d)/,".$1/$2").replace(/(\d{4})(\d)/,"$1-$2");let{valid:t,type:l}=E(e);e?11!==e.length&&14!==e.length?ei("CPF/CNPJ incompleto"):t?ei(null):ei(l?`${l} inv\xe1lido`:"CPF/CNPJ inv\xe1lido"):ei(null),L&&14===e.length&&eP(e),r=a}else if("cep"===a){let e=s.replace(/\D/g,"").replace(/^(\d{5})(\d)/,"$1-$2");e.length>9&&(e=e.substring(0,9)),r=e}else"address.number"===a?r=s.replace(/\D/g,"").slice(0,7):("name"===a||"legalName"===a)&&(r=(0,w.Ls)(s));if(a.includes(".")){let[e,s]=a.split(".");e$(e,{...ea[e],[s]:r})}else e$(a,r)};if(F||D)return r.jsx("div",{className:"p-6",children:"Carregando configura\xe7\xf5es..."});let eA=L?ea:I,eD=H?ea.address:I?.address,eq=$.map(e=>({day:e,...en[e]}));return(0,r.jsxs)(r.Fragment,{children:[r.jsx(p.Vq,{open:B,onOpenChange:e=>{e||ek()},children:(0,r.jsxs)(p.cZ,{className:"sm:max-w-md",children:[(0,r.jsxs)(p.fK,{children:[r.jsx(p.$N,{children:"Recortar Logo"}),r.jsx(p.Be,{children:"Use o zoom para ajustar o recorte quadrado da logo."})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[r.jsx("div",{className:"relative w-full aspect-square bg-slate-900 rounded-lg overflow-hidden border border-slate-700",children:W?r.jsx("img",{src:W,alt:"Pr\xe9via da logo",className:"absolute inset-0 w-full h-full object-contain",style:{transform:`scale(${Q})`,transformOrigin:"center"}}):r.jsx("div",{className:"flex items-center justify-center h-full text-sm text-muted-foreground",children:"Selecione uma imagem"})}),(0,r.jsxs)("div",{className:"space-y-1",children:[r.jsx(d._,{htmlFor:"crop-zoom",children:"Zoom"}),r.jsx(n.I,{id:"crop-zoom",type:"range",min:1,max:3,step:.1,value:Q,onChange:e=>K(parseFloat(e.target.value))})]})]}),(0,r.jsxs)(p.cN,{children:[r.jsx(p.GG,{asChild:!0,children:r.jsx(l.z,{variant:"outline",onClick:ek,children:"Cancelar"})}),r.jsx(l.z,{onClick:ez,disabled:!W,children:"Aplicar recorte"})]})]})}),r.jsx("div",{className:"space-y-6",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,r.jsxs)(i.Zb,{children:[(0,r.jsxs)(i.Ol,{children:[(0,r.jsxs)(i.ll,{className:"flex items-center gap-2",children:[r.jsx(h,{className:"h-5 w-5"}),"Informa\xe7\xf5es da Barbearia"]}),r.jsx(i.SZ,{children:"Edite os dados principais da sua barbearia."})]}),r.jsx(i.aY,{className:"space-y-4",children:(0,r.jsxs)("div",{className:"flex flex-col items-center gap-4 sm:flex-row sm:items-start",children:[(0,r.jsxs)("div",{className:"flex-shrink-0",children:[r.jsx(d._,{children:"Logo da Barbearia"}),(0,r.jsxs)("div",{className:"relative group mt-2",children:[(0,r.jsxs)(C.Avatar,{className:"h-32 w-32 border-2 border-solid border-blue-500 p-1",children:[r.jsx(C.AvatarImage,{src:er||I?.logoUrl}),r.jsx(C.AvatarFallback,{children:r.jsx(h,{className:"h-12 w-12 text-muted-foreground"})})]}),L&&r.jsx("label",{htmlFor:"logo-upload",className:"absolute inset-0 flex items-center justify-center bg-black/50 text-white rounded-full cursor-pointer opacity-0 group-hover:opacity-100 transition-opacity",children:r.jsx(m.Z,{className:"h-6 w-6"})}),r.jsx(n.I,{id:"logo-upload",type:"file",onChange:e=>{if(L&&e.target.files&&e.target.files[0]){let a=e.target.files[0],s=new FileReader;s.onloadend=()=>{Y(s.result),K(1),V(!0)},s.readAsDataURL(a)}},className:"sr-only",accept:"image/*",disabled:!L})]})]}),(0,r.jsxs)("div",{className:"space-y-4 w-full",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(d._,{htmlFor:"shop-name",children:"Nome da Barbearia (Nome Fantasia)"}),r.jsx(n.I,{id:"shop-name",name:"name",value:eA?.name||"",onChange:eM,disabled:!L})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(d._,{htmlFor:"legal-name",children:"Nome/Empresa (Raz\xe3o Social ou Propriet\xe1rio)"}),r.jsx(n.I,{id:"legal-name",name:"legalName",value:eA?.legalName||"",onChange:eM,disabled:!L})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(d._,{htmlFor:"shop-phone",children:"WhatsApp Principal"}),r.jsx(n.I,{id:"shop-phone",name:"phone",value:eA?.phone||"",onChange:eM,maxLength:16,disabled:!L})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(d._,{htmlFor:"shop-cpf-cnpj",children:"CPF/CNPJ"}),r.jsx(n.I,{id:"shop-cpf-cnpj",name:"cpfCnpj",value:eA?.cpfCnpj?z(eA.cpfCnpj):"",onChange:eM,disabled:!L,placeholder:"Seu CPF ou CNPJ"}),el&&r.jsx("p",{className:"text-sm text-destructive",children:el})]})]})]})}),r.jsx(i.eW,{className:"border-t px-6 py-4",children:L?(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsxs)(l.z,{onClick:()=>eI("info"),className:"hover:bg-[#044a7b]",children:[r.jsx(u.Z,{className:"mr-2 h-4 w-4"}),"Salvar"]}),r.jsx(l.z,{variant:"ghost",onClick:()=>eE("info"),children:"Cancelar"})]}):(0,r.jsxs)(l.z,{onClick:()=>eS("info"),className:"hover:bg-[#044a7b]",children:[r.jsx(g.Z,{className:"mr-2 h-4 w-4"}),"Editar Informa\xe7\xf5es"]})})]}),(0,r.jsxs)(i.Zb,{children:[(0,r.jsxs)(i.Ol,{children:[r.jsx(i.ll,{children:"Horario de Funcionamento"}),r.jsx(i.SZ,{children:"Defina os dias e horarios que sua barbearia estara aberta."})]}),r.jsx(i.aY,{className:"space-y-3",children:eq.map(e=>(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between rounded-lg border p-3 gap-4 sm:gap-2",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4 flex-1",children:[r.jsx(o.r,{id:`switch-${e.day}`,checked:e.active,onCheckedChange:a=>eF(e.day,{active:a}),"aria-label":`Ativar ${e.day}`}),r.jsx(d._,{htmlFor:`switch-${e.day}`,className:"w-24 font-medium",children:e.day})]}),e.active?(0,r.jsxs)("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[r.jsx(n.I,{type:"time",className:"w-full sm:w-28",value:e.open,onChange:a=>eF(e.day,{open:a.target.value})}),r.jsx("span",{className:"text-sm text-muted-foreground",children:"ate"}),r.jsx(n.I,{type:"time",className:"w-full sm:w-28",value:e.close,onChange:a=>eF(e.day,{close:a.target.value})})]}):r.jsx(S.C,{variant:"destructive",children:"FECHADO"})]},e.day))})]})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,r.jsxs)(i.Zb,{children:[(0,r.jsxs)(i.Ol,{children:[r.jsx(i.ll,{children:"Endere\xe7o"}),r.jsx(i.SZ,{children:"Informe o endere\xe7o f\xedsico da sua barbearia."})]}),(0,r.jsxs)(i.aY,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-2 sm:col-span-1",children:[r.jsx(d._,{htmlFor:"cep",children:"CEP"}),r.jsx(n.I,{id:"cep",name:"address.cep",value:eD?.cep||"",onChange:eM,maxLength:9,disabled:!H})]}),(0,r.jsxs)("div",{className:"space-y-2 sm:col-span-2",children:[r.jsx(d._,{htmlFor:"street",children:"Rua"}),r.jsx(n.I,{id:"street",name:"address.street",value:eD?.street||"",onChange:eM,disabled:!H})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-2 sm:col-span-1",children:[r.jsx(d._,{htmlFor:"number",children:"N\xfamero"}),r.jsx(n.I,{id:"number",name:"address.number",value:eD?.number||"",onChange:eM,disabled:!H})]}),(0,r.jsxs)("div",{className:"space-y-2 sm:col-span-2",children:[r.jsx(d._,{htmlFor:"complement",children:"Complemento (Opcional)"}),r.jsx(n.I,{id:"complement",name:"address.complement",value:eD?.complement||"",onChange:eM,disabled:!H})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(d._,{htmlFor:"neighborhood",children:"Bairro"}),r.jsx(n.I,{id:"neighborhood",name:"address.neighborhood",value:eD?.neighborhood||"",onChange:eM,disabled:!H})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(d._,{htmlFor:"city",children:"Cidade"}),r.jsx(n.I,{id:"city",name:"address.city",value:eD?.city||"",onChange:eM,disabled:!H})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(d._,{htmlFor:"state",children:"Estado"}),r.jsx(n.I,{id:"state",name:"address.state",value:eD?.state||"",onChange:eM,disabled:!H})]})]})]}),r.jsx(i.eW,{className:"border-t px-6 py-4",children:H?(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsxs)(l.z,{onClick:()=>eI("address"),className:"hover:bg-[#044a7b]",children:[r.jsx(u.Z,{className:"mr-2 h-4 w-4"}),"Salvar Endere\xe7o"]}),r.jsx(l.z,{variant:"ghost",onClick:()=>eE("address"),children:"Cancelar"})]}):(0,r.jsxs)(l.z,{onClick:()=>eS("address"),className:"hover:bg-[#044a7b]",children:[r.jsx(g.Z,{className:"mr-2 h-4 w-4"}),"Editar Endere\xe7o"]})})]}),(0,r.jsxs)(i.Zb,{children:[(0,r.jsxs)(i.Ol,{children:[(0,r.jsxs)(i.ll,{className:"flex items-center gap-2",children:[r.jsx(x.Z,{className:"h-5 w-5"}),"Seguran\xe7a e Acesso"]}),r.jsx(i.SZ,{children:"Atualize sua senha de login."})]}),(0,r.jsxs)(i.aY,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(d._,{htmlFor:"email",children:"E-mail de Login"}),r.jsx(n.I,{id:"email",type:"email",value:eo,disabled:!0,readOnly:!0})]}),T&&(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(d._,{htmlFor:"current-password",children:"Senha Atual"}),(0,r.jsxs)("div",{className:"relative",children:[r.jsx(n.I,{id:"current-password",type:ev?"text":"password",value:ep,onChange:e=>eh(e.target.value),placeholder:"••••••••",disabled:!T,className:"pr-12"}),r.jsx(l.z,{type:"button",variant:"ghost",size:"icon",className:"absolute right-2 top-1/2 h-7 w-7 -translate-y-1/2",onClick:()=>ef(e=>!e),children:ev?r.jsx(v.Z,{className:"h-4 w-4"}):r.jsx(f.Z,{className:"h-4 w-4"})})]}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Necess\xe1ria para confirmar qualquer altera\xe7\xe3o de seguran\xe7a."})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(d._,{htmlFor:"new-password",children:"Nova Senha"}),(0,r.jsxs)("div",{className:"relative",children:[r.jsx(n.I,{id:"new-password",type:eb?"text":"password",value:em,onChange:e=>eu(e.target.value),placeholder:"••••••••",disabled:!T,className:"pr-12"}),r.jsx(l.z,{type:"button",variant:"ghost",size:"icon",className:"absolute right-2 top-1/2 h-7 w-7 -translate-y-1/2",onClick:()=>ej(e=>!e),children:eb?r.jsx(v.Z,{className:"h-4 w-4"}):r.jsx(f.Z,{className:"h-4 w-4"})})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(d._,{htmlFor:"confirm-new-password",children:"Confirmar Nova Senha"}),(0,r.jsxs)("div",{className:"relative",children:[r.jsx(n.I,{id:"confirm-new-password",type:ey?"text":"password",value:eg,onChange:e=>ex(e.target.value),placeholder:"••••••••",disabled:!T,className:"pr-12"}),r.jsx(l.z,{type:"button",variant:"ghost",size:"icon",className:"absolute right-2 top-1/2 h-7 w-7 -translate-y-1/2",onClick:()=>eN(e=>!e),children:ey?r.jsx(v.Z,{className:"h-4 w-4"}):r.jsx(f.Z,{className:"h-4 w-4"})})]})]})]})]}),r.jsx(i.eW,{className:"border-t px-6 py-4",children:T?(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsxs)(l.z,{onClick:eZ,disabled:O,className:"hover:bg-[#044a7b]",children:[O?r.jsx(b.Z,{className:"mr-2 h-4 w-4 animate-spin"}):r.jsx(u.Z,{className:"mr-2 h-4 w-4"}),O?"Atualizando...":"Salvar Altera\xe7\xf5es"]}),r.jsx(l.z,{variant:"ghost",onClick:()=>eE("security"),children:"Cancelar"})]}):(0,r.jsxs)(l.z,{onClick:()=>eS("security"),className:"hover:bg-[#044a7b]",children:[r.jsx(g.Z,{className:"mr-2 h-4 w-4"}),"Alterar Seguran\xe7a"]})})]})]})]})})]})}},38443:(e,a,s)=>{"use strict";s.d(a,{C:()=>n});var r=s(10326);s(17577);var t=s(79360),l=s(51223);let i=(0,t.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function n({className:e,variant:a,...s}){return r.jsx("div",{className:(0,l.cn)(i({variant:a}),e),...s})}},2822:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>r});let r=(0,s(68570).createProxy)(String.raw`/var/www/barberflow/src/app/(dashboard)/admin/dashboard/settings/page.tsx#default`)},34478:(e,a,s)=>{"use strict";s.d(a,{f:()=>n});var r=s(17577),t=s(77335),l=s(10326),i=r.forwardRef((e,a)=>(0,l.jsx)(t.WV.label,{...e,ref:a,onMouseDown:a=>{a.target.closest("button, input, select, textarea")||(e.onMouseDown?.(a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));i.displayName="Label";var n=i},11698:(e,a,s)=>{"use strict";s.d(a,{Z:()=>r});let r=(0,s(9664).Z)("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},46721:(e,a,s)=>{"use strict";s.d(a,{Z:()=>r});let r=(0,s(9664).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},67478:(e,a,s)=>{"use strict";s.d(a,{Z:()=>r});let r=(0,s(9664).Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},9489:(e,a,s)=>{"use strict";s.d(a,{Z:()=>r});let r=(0,s(9664).Z)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])}};var a=require("../../../../../webpack-runtime.js");a.C(e);var s=e=>a(a.s=e),r=a.X(0,[8948,7925,2535,434,1458,1245,7389,4020,5269,7154,3799,9788,8494,1186],()=>s(35688));module.exports=r})();